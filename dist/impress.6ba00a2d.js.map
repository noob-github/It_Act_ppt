{"version":3,"sources":["impress.js"],"names":["document","window","lib","style","prefixes","memory","pfx","createElement","split","prop","ucProp","charAt","toUpperCase","substr","props","join","i","undefined","validateOrder","order","fallback","validChars","returnStr","indexOf","css","el","key","pkey","hasOwnProperty","translate","t","x","y","z","rotate","r","revert","axes","reverse","length","scale","s","computeWindowScale","config","hScale","innerHeight","height","wScale","innerWidth","width","maxScale","minScale","body","impressSupported","classList","dataset","className","roots","preInitPlugins","preStepLeavePlugins","defaults","empty","impress","rootId","init","goto","prev","next","swipe","tear","initLibraries","remove","add","stepsData","activeStep","currentState","steps","windowScale","root","util","byId","canvas","initialized","lastEntered","initStep","idx","data","step","toNumber","rotateX","rotateY","rotateZ","rotateOrder","transitionDuration","id","position","transform","transformStyle","initAllSteps","$$","forEach","stepEnterTimeout","duration","reason","origEvent","getStep","scrollTo","event","target","detail","execPreStepLeavePlugins","zoomin","delay","targetScale","currentStep","nextStep","triggerEvent","perspective","transitionDelay","clearTimeout","setTimeout","interpolate","a","b","k","gc","addEventListener","lastHash","location","hash","getElementFromHash","execPreInitPlugins","meta","$","content","parentNode","head","name","appendChild","rootData","arrayify","childNodes","documentElement","overflow","rootStyles","transformOrigin","transition","top","left","api","pct","Math","abs","nextElement","nextScale","interpolatedStep","teardown","supported","libraryFactories","addLibraryFactory","obj","libname","addPreInitPlugin","plugin","weight","parseInt","push","thisLevel","j","addPreStepLeavePlugin","rootsCount","startingState","elementList","eventListenerList","callbackList","recordStartingState","pushElement","element","pushEventListener","type","listenerFunction","listener","pushCallback","callback","resetStartingState","parent","parentElement","removeChild","removeEventListener","getElementById","querySelectorAll","getAttribute","contains","impressNotSupported","metas","m","activeId","querySelector","pop","removeAttribute","setAttribute","canvasHTML","firstChild","innerHTML","slice","call","selector","context","replace","throttle","fn","timer","args","arguments","apply","numeric","isNaN","Number","eventName","createEvent","initCustomEvent","dispatchEvent","getUrlParamValue","parameter","chunk","search","value","autoplayDefault","currentStepTimeout","timeoutHandle","autoplay","toolbar","addToolbarButton","status","reloadTimeout","setAutoplayTimeout","timeout","setButtonText","toolbarButton","getButtonText","buttonWidth","offsetWidth","buttonHeight","offsetHeight","html","tempDiv","makeDomElement","group","blackedOut","removeBlackout","display","firstElementChild","keyCode","preventDefault","markdown","markdownDivs","dialect","markdownDialect","slides","textContent","toHTML","newElement","cloneNode","insertBefore","hljs","initHighlightingOnLoad","mermaid","initialize","startOnLoad","selectors","elements","e","stopPropagation","activeElement","blur","enterFullscreen","elem","code","fullscreenElement","requestFullscreen","exitFullscreen","command","text","row","isNumber","gotoKeyList","gotoNextList","keylist","nextlist","console","log","index","newTarget","gotoNext","gotoPrev","rows","renderHelpDiv","helpDiv","arrayItem","rowIndex","isArray","lang","navigator","language","preViewDefaultFactor","consoleTemplate","cssFile","cssFileIframe","allConsoles","zeroPad","impressConsole","consoleWindow","classes","nextElementSibling","attributes","restart","onStepLeave","newNotes","noNotes","baseURL","URL","substring","slideSrc","preSrc","slideView","src","preView","moving","onStepEnter","notes","scrollTop","ready","onSubstep","onSubstepShow","onSubstepHide","triggerEventInView","frame","contentDocument","spaceHandler","scrollTopMax","clientHeight","timerReset","timerStart","Date","registerKeyEvent","keyCodes","handler","ctrlKey","altKey","shiftKey","metaKey","consoleOnLoad","insertAdjacentHTML","open","isconsoleWindow","closed","message","right","bottom","backgroundColor","clickStr","clickToOpen","cssLink","write","cssStyleStr","title","onload","clockInterval","setInterval","clockTick","onbeforeunload","clearInterval","close","onresize","resize","focus","ratio","views","delta","clientWidth","slideViewWidth","slideViewHeight","floor","preViewTop","preViewWidth","preViewHeight","_init","cssConsole","cssIframe","consoleCss","consoleCssIframe","onunload","consoleAutolaunch","now","hours","getHours","minutes","getMinutes","seconds","getSeconds","ampm","useAMPM","clockStr","nodeValue","contentWindow","attributeTracker","enhanceMediaNodes","enhanceMedia","removeMediaClasses","onStepenterDetectImpressConsole","onStepenter","onStepleave","onPlay","onPause","onEnded","getMediaAttribute","node","attr","attributeName","nodes","attrName","attrValue","hasAttribute","nodeName","toLowerCase","types","media","mediaElement","stepElement","getElementsByClassName","frameElement","onConsole","preview","muted","play","autopause","autostop","pause","currentTime","test","userAgent","oldprev","oldnext","getPrevStep","getNextStep","hide","show","isNavigationEvent","tagName","href","stopImmediatePropagation","err","TypeError","select","hideSteps","selectOptionsHtml","options","prevHtml","selectHtml","addNavigationControls","stepids","getSteps","progressbar","progress","updateProgressbar","slideId","slideNumber","toFixed","toNumberAdvanced","match","parseFloat","computeRelativePositions","relative","relTo","ref","compareDocumentPosition","Node","DOCUMENT_POSITION_PRECEDING","error","warn","relX","relY","relZ","skip","substep","showSubstepIfAny","substeps","sorted","sortSubsteps","visible","showSubstep","substepNodeList","Array","from","filter","substepOrder","sort","orderA","orderB","concat","hideSubstepIfAny","hideSubstep","current","startX","lastX","lastDX","threshold","touches","clientX","diff","totalDiff","groups","getNextGroupIndex","nextIndex","getGroupElement","before"],"mappings":"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","file":"impress.6ba00a2d.js","sourceRoot":"..","sourcesContent":["// This file was automatically generated from files in src/ directory.\n\n/*! Licensed under MIT License - http://github.com/impress/impress.js */\n/**\n * impress.js\n *\n * impress.js is a presentation tool based on the power of CSS3 transforms and transitions\n * in modern browsers and inspired by the idea behind prezi.com.\n *\n *\n * Copyright 2011-2012 Bartek Szopka (@bartaz), 2016-2020 Henrik Ingo (@henrikingo)\n *\n * Released under the MIT License.\n *\n * ------------------------------------------------\n *  author:  Bartek Szopka, Henrik Ingo\n *  version: 1.1.0\n *  url:     http://impress.js.org\n *  source:  http://github.com/impress/impress.js/\n */\n\n// You are one of those who like to know how things work inside?\n// Let me show you the cogs that make impress.js run...\n( function( document, window ) {\n    \"use strict\";\n    var lib;\n\n    // HELPER FUNCTIONS\n\n    // `pfx` is a function that takes a standard CSS property name as a parameter\n    // and returns it's prefixed version valid for current browser it runs in.\n    // The code is heavily inspired by Modernizr http://www.modernizr.com/\n    var pfx = ( function() {\n\n        var style = document.createElement( \"dummy\" ).style,\n            prefixes = \"Webkit Moz O ms Khtml\".split( \" \" ),\n            memory = {};\n\n        return function( prop ) {\n            if ( typeof memory[ prop ] === \"undefined\" ) {\n\n                var ucProp  = prop.charAt( 0 ).toUpperCase() + prop.substr( 1 ),\n                    props   = ( prop + \" \" + prefixes.join( ucProp + \" \" ) + ucProp ).split( \" \" );\n\n                memory[ prop ] = null;\n                for ( var i in props ) {\n                    if ( style[ props[ i ] ] !== undefined ) {\n                        memory[ prop ] = props[ i ];\n                        break;\n                    }\n                }\n\n            }\n\n            return memory[ prop ];\n        };\n\n    } )();\n\n    var validateOrder = function( order, fallback ) {\n        var validChars = \"xyz\";\n        var returnStr = \"\";\n        if ( typeof order === \"string\" ) {\n            for ( var i in order.split( \"\" ) ) {\n                if ( validChars.indexOf( order[ i ] ) >= 0 ) {\n                    returnStr += order[ i ];\n\n                    // Each of x,y,z can be used only once.\n                    validChars = validChars.split( order[ i ] ).join( \"\" );\n                }\n            }\n        }\n        if ( returnStr ) {\n            return returnStr;\n        } else if ( fallback !== undefined ) {\n            return fallback;\n        } else {\n            return \"xyz\";\n        }\n    };\n\n    // `css` function applies the styles given in `props` object to the element\n    // given as `el`. It runs all property names through `pfx` function to make\n    // sure proper prefixed version of the property is used.\n    var css = function( el, props ) {\n        var key, pkey;\n        for ( key in props ) {\n            if ( props.hasOwnProperty( key ) ) {\n                pkey = pfx( key );\n                if ( pkey !== null ) {\n                    el.style[ pkey ] = props[ key ];\n                }\n            }\n        }\n        return el;\n    };\n\n    // `translate` builds a translate transform string for given data.\n    var translate = function( t ) {\n        return \" translate3d(\" + t.x + \"px,\" + t.y + \"px,\" + t.z + \"px) \";\n    };\n\n    // `rotate` builds a rotate transform string for given data.\n    // By default the rotations are in X Y Z order that can be reverted by passing `true`\n    // as second parameter.\n    var rotate = function( r, revert ) {\n        var order = r.order ? r.order : \"xyz\";\n        var css = \"\";\n        var axes = order.split( \"\" );\n        if ( revert ) {\n            axes = axes.reverse();\n        }\n\n        for ( var i = 0; i < axes.length; i++ ) {\n            css += \" rotate\" + axes[ i ].toUpperCase() + \"(\" + r[ axes[ i ] ] + \"deg)\";\n        }\n        return css;\n    };\n\n    // `scale` builds a scale transform string for given data.\n    var scale = function( s ) {\n        return \" scale(\" + s + \") \";\n    };\n\n    // `computeWindowScale` counts the scale factor between window size and size\n    // defined for the presentation in the config.\n    var computeWindowScale = function( config ) {\n        var hScale = window.innerHeight / config.height,\n            wScale = window.innerWidth / config.width,\n            scale = hScale > wScale ? wScale : hScale;\n\n        if ( config.maxScale && scale > config.maxScale ) {\n            scale = config.maxScale;\n        }\n\n        if ( config.minScale && scale < config.minScale ) {\n            scale = config.minScale;\n        }\n\n        return scale;\n    };\n\n    // CHECK SUPPORT\n    var body = document.body;\n    var impressSupported =\n\n                          // Browser should support CSS 3D transtorms\n                           ( pfx( \"perspective\" ) !== null ) &&\n\n                          // And `classList` and `dataset` APIs\n                           ( body.classList ) &&\n                           ( body.dataset );\n\n    if ( !impressSupported ) {\n\n        // We can't be sure that `classList` is supported\n        body.className += \" impress-not-supported \";\n    }\n\n    // GLOBALS AND DEFAULTS\n\n    // This is where the root elements of all impress.js instances will be kept.\n    // Yes, this means you can have more than one instance on a page, but I'm not\n    // sure if it makes any sense in practice ;)\n    var roots = {};\n\n    var preInitPlugins = [];\n    var preStepLeavePlugins = [];\n\n    // Some default config values.\n    var defaults = {\n        width: 1024,\n        height: 768,\n        maxScale: 1,\n        minScale: 0,\n\n        perspective: 1000,\n\n        transitionDuration: 1000\n    };\n\n    // It's just an empty function ... and a useless comment.\n    var empty = function() { return false; };\n\n    // IMPRESS.JS API\n\n    // And that's where interesting things will start to happen.\n    // It's the core `impress` function that returns the impress.js API\n    // for a presentation based on the element with given id (\"impress\"\n    // by default).\n    var impress = window.impress = function( rootId ) {\n\n        // If impress.js is not supported by the browser return a dummy API\n        // it may not be a perfect solution but we return early and avoid\n        // running code that may use features not implemented in the browser.\n        if ( !impressSupported ) {\n            return {\n                init: empty,\n                goto: empty,\n                prev: empty,\n                next: empty,\n                swipe: empty,\n                tear: empty,\n                lib: {}\n            };\n        }\n\n        rootId = rootId || \"impress\";\n\n        // If given root is already initialized just return the API\n        if ( roots[ \"impress-root-\" + rootId ] ) {\n            return roots[ \"impress-root-\" + rootId ];\n        }\n\n        // The gc library depends on being initialized before we do any changes to DOM.\n        lib = initLibraries( rootId );\n\n        body.classList.remove( \"impress-not-supported\" );\n        body.classList.add( \"impress-supported\" );\n\n        // Data of all presentation steps\n        var stepsData = {};\n\n        // Element of currently active step\n        var activeStep = null;\n\n        // Current state (position, rotation and scale) of the presentation\n        var currentState = null;\n\n        // Array of step elements\n        var steps = null;\n\n        // Configuration options\n        var config = null;\n\n        // Scale factor of the browser window\n        var windowScale = null;\n\n        // Root presentation elements\n        var root = lib.util.byId( rootId );\n        var canvas = document.createElement( \"div\" );\n\n        var initialized = false;\n\n        // STEP EVENTS\n        //\n        // There are currently two step events triggered by impress.js\n        // `impress:stepenter` is triggered when the step is shown on the\n        // screen (the transition from the previous one is finished) and\n        // `impress:stepleave` is triggered when the step is left (the\n        // transition to next step just starts).\n\n        // Reference to last entered step\n        var lastEntered = null;\n\n        // `onStepEnter` is called whenever the step element is entered\n        // but the event is triggered only if the step is different than\n        // last entered step.\n        // We sometimes call `goto`, and therefore `onStepEnter`, just to redraw a step, such as\n        // after screen resize. In this case - more precisely, in any case - we trigger a\n        // `impress:steprefresh` event.\n        var onStepEnter = function( step ) {\n            if ( lastEntered !== step ) {\n                lib.util.triggerEvent( step, \"impress:stepenter\" );\n                lastEntered = step;\n            }\n            lib.util.triggerEvent( step, \"impress:steprefresh\" );\n        };\n\n        // `onStepLeave` is called whenever the currentStep element is left\n        // but the event is triggered only if the currentStep is the same as\n        // lastEntered step.\n        var onStepLeave = function( currentStep, nextStep ) {\n            if ( lastEntered === currentStep ) {\n                lib.util.triggerEvent( currentStep, \"impress:stepleave\", { next: nextStep } );\n                lastEntered = null;\n            }\n        };\n\n        // `initStep` initializes given step element by reading data from its\n        // data attributes and setting correct styles.\n        var initStep = function( el, idx ) {\n            var data = el.dataset,\n                step = {\n                    translate: {\n                        x: lib.util.toNumber( data.x ),\n                        y: lib.util.toNumber( data.y ),\n                        z: lib.util.toNumber( data.z )\n                    },\n                    rotate: {\n                        x: lib.util.toNumber( data.rotateX ),\n                        y: lib.util.toNumber( data.rotateY ),\n                        z: lib.util.toNumber( data.rotateZ || data.rotate ),\n                        order: validateOrder( data.rotateOrder )\n                    },\n                    scale: lib.util.toNumber( data.scale, 1 ),\n                    transitionDuration: lib.util.toNumber(\n                        data.transitionDuration, config.transitionDuration\n                    ),\n                    el: el\n                };\n\n            if ( !el.id ) {\n                el.id = \"step-\" + ( idx + 1 );\n            }\n\n            stepsData[ \"impress-\" + el.id ] = step;\n\n            css( el, {\n                position: \"absolute\",\n                transform: \"translate(-50%,-50%)\" +\n                           translate( step.translate ) +\n                           rotate( step.rotate ) +\n                           scale( step.scale ),\n                transformStyle: \"preserve-3d\"\n            } );\n        };\n\n        // Initialize all steps.\n        // Read the data-* attributes, store in internal stepsData, and render with CSS.\n        var initAllSteps = function() {\n            steps = lib.util.$$( \".step\", root );\n            steps.forEach( initStep );\n        };\n\n        // `init` API function that initializes (and runs) the presentation.\n        var init = function() {\n            if ( initialized ) { return; }\n            execPreInitPlugins( root );\n\n            // First we set up the viewport for mobile devices.\n            // For some reason iPad goes nuts when it is not done properly.\n            var meta = lib.util.$( \"meta[name='viewport']\" ) || document.createElement( \"meta\" );\n            meta.content = \"width=device-width, minimum-scale=1, maximum-scale=1, user-scalable=no\";\n            if ( meta.parentNode !== document.head ) {\n                meta.name = \"viewport\";\n                document.head.appendChild( meta );\n            }\n\n            // Initialize configuration object\n            var rootData = root.dataset;\n            config = {\n                width: lib.util.toNumber( rootData.width, defaults.width ),\n                height: lib.util.toNumber( rootData.height, defaults.height ),\n                maxScale: lib.util.toNumber( rootData.maxScale, defaults.maxScale ),\n                minScale: lib.util.toNumber( rootData.minScale, defaults.minScale ),\n                perspective: lib.util.toNumber( rootData.perspective, defaults.perspective ),\n                transitionDuration: lib.util.toNumber(\n                    rootData.transitionDuration, defaults.transitionDuration\n                )\n            };\n\n            windowScale = computeWindowScale( config );\n\n            // Wrap steps with \"canvas\" element\n            lib.util.arrayify( root.childNodes ).forEach( function( el ) {\n                canvas.appendChild( el );\n            } );\n            root.appendChild( canvas );\n\n            // Set initial styles\n            document.documentElement.style.height = \"100%\";\n\n            css( body, {\n                height: \"100%\",\n                overflow: \"hidden\"\n            } );\n\n            var rootStyles = {\n                position: \"absolute\",\n                transformOrigin: \"top left\",\n                transition: \"all 0s ease-in-out\",\n                transformStyle: \"preserve-3d\"\n            };\n\n            css( root, rootStyles );\n            css( root, {\n                top: \"50%\",\n                left: \"50%\",\n                perspective: ( config.perspective / windowScale ) + \"px\",\n                transform: scale( windowScale )\n            } );\n            css( canvas, rootStyles );\n\n            body.classList.remove( \"impress-disabled\" );\n            body.classList.add( \"impress-enabled\" );\n\n            // Get and init steps\n            initAllSteps();\n\n            // Set a default initial state of the canvas\n            currentState = {\n                translate: { x: 0, y: 0, z: 0 },\n                rotate:    { x: 0, y: 0, z: 0, order: \"xyz\" },\n                scale:     1\n            };\n\n            initialized = true;\n\n            lib.util.triggerEvent( root, \"impress:init\",\n                                   { api: roots[ \"impress-root-\" + rootId ] } );\n        };\n\n        // `getStep` is a helper function that returns a step element defined by parameter.\n        // If a number is given, step with index given by the number is returned, if a string\n        // is given step element with such id is returned, if DOM element is given it is returned\n        // if it is a correct step element.\n        var getStep = function( step ) {\n            if ( typeof step === \"number\" ) {\n                step = step < 0 ? steps[ steps.length + step ] : steps[ step ];\n            } else if ( typeof step === \"string\" ) {\n                step = lib.util.byId( step );\n            }\n            return ( step && step.id && stepsData[ \"impress-\" + step.id ] ) ? step : null;\n        };\n\n        // Used to reset timeout for `impress:stepenter` event\n        var stepEnterTimeout = null;\n\n        // `goto` API function that moves to step given as `el` parameter (by index, id or element).\n        // `duration` optionally given as second parameter, is the transition duration in css.\n        // `reason` is the string \"next\", \"prev\" or \"goto\" (default) and will be made available to\n        // preStepLeave plugins.\n        // `origEvent` may contain event that caused the call to goto, such as a key press event\n        var goto = function( el, duration, reason, origEvent ) {\n            reason = reason || \"goto\";\n            origEvent = origEvent || null;\n\n            if ( !initialized ) {\n                return false;\n            }\n\n            // Re-execute initAllSteps for each transition. This allows to edit step attributes\n            // dynamically, such as change their coordinates, or even remove or add steps, and have\n            // that change apply when goto() is called.\n            initAllSteps();\n\n            if ( !( el = getStep( el ) ) ) {\n                return false;\n            }\n\n            // Sometimes it's possible to trigger focus on first link with some keyboard action.\n            // Browser in such a case tries to scroll the page to make this element visible\n            // (even that body overflow is set to hidden) and it breaks our careful positioning.\n            //\n            // So, as a lousy (and lazy) workaround we will make the page scroll back to the top\n            // whenever slide is selected\n            //\n            // If you are reading this and know any better way to handle it, I'll be glad to hear\n            // about it!\n            window.scrollTo( 0, 0 );\n\n            var step = stepsData[ \"impress-\" + el.id ];\n            duration = ( duration !== undefined ? duration : step.transitionDuration );\n\n            // If we are in fact moving to another step, start with executing the registered\n            // preStepLeave plugins.\n            if ( activeStep && activeStep !== el ) {\n                var event = { target: activeStep, detail: {} };\n                event.detail.next = el;\n                event.detail.transitionDuration = duration;\n                event.detail.reason = reason;\n                if ( origEvent ) {\n                    event.origEvent = origEvent;\n                }\n\n                if ( execPreStepLeavePlugins( event ) === false ) {\n\n                    // PreStepLeave plugins are allowed to abort the transition altogether, by\n                    // returning false.\n                    // see stop and substep plugins for an example of doing just that\n                    return false;\n                }\n\n                // Plugins are allowed to change the detail values\n                el = event.detail.next;\n                step = stepsData[ \"impress-\" + el.id ];\n                duration = event.detail.transitionDuration;\n            }\n\n            if ( activeStep ) {\n                activeStep.classList.remove( \"active\" );\n                body.classList.remove( \"impress-on-\" + activeStep.id );\n            }\n            el.classList.add( \"active\" );\n\n            body.classList.add( \"impress-on-\" + el.id );\n\n            // Compute target state of the canvas based on given step\n            var target = {\n                rotate: {\n                    x: -step.rotate.x,\n                    y: -step.rotate.y,\n                    z: -step.rotate.z,\n                    order: step.rotate.order\n                },\n                translate: {\n                    x: -step.translate.x,\n                    y: -step.translate.y,\n                    z: -step.translate.z\n                },\n                scale: 1 / step.scale\n            };\n\n            // Check if the transition is zooming in or not.\n            //\n            // This information is used to alter the transition style:\n            // when we are zooming in - we start with move and rotate transition\n            // and the scaling is delayed, but when we are zooming out we start\n            // with scaling down and move and rotation are delayed.\n            var zoomin = target.scale >= currentState.scale;\n\n            duration = lib.util.toNumber( duration, config.transitionDuration );\n            var delay = ( duration / 2 );\n\n            // If the same step is re-selected, force computing window scaling,\n            // because it is likely to be caused by window resize\n            if ( el === activeStep ) {\n                windowScale = computeWindowScale( config );\n            }\n\n            var targetScale = target.scale * windowScale;\n\n            // Trigger leave of currently active element (if it's not the same step again)\n            if ( activeStep && activeStep !== el ) {\n                onStepLeave( activeStep, el );\n            }\n\n            // Now we alter transforms of `root` and `canvas` to trigger transitions.\n            //\n            // And here is why there are two elements: `root` and `canvas` - they are\n            // being animated separately:\n            // `root` is used for scaling and `canvas` for translate and rotations.\n            // Transitions on them are triggered with different delays (to make\n            // visually nice and \"natural\" looking transitions), so we need to know\n            // that both of them are finished.\n            css( root, {\n\n                // To keep the perspective look similar for different scales\n                // we need to \"scale\" the perspective, too\n                // For IE 11 support we must specify perspective independent\n                // of transform.\n                perspective: ( config.perspective / targetScale ) + \"px\",\n                transform: scale( targetScale ),\n                transitionDuration: duration + \"ms\",\n                transitionDelay: ( zoomin ? delay : 0 ) + \"ms\"\n            } );\n\n            css( canvas, {\n                transform: rotate( target.rotate, true ) + translate( target.translate ),\n                transitionDuration: duration + \"ms\",\n                transitionDelay: ( zoomin ? 0 : delay ) + \"ms\"\n            } );\n\n            // Here is a tricky part...\n            //\n            // If there is no change in scale or no change in rotation and translation, it means\n            // there was actually no delay - because there was no transition on `root` or `canvas`\n            // elements. We want to trigger `impress:stepenter` event in the correct moment, so\n            // here we compare the current and target values to check if delay should be taken into\n            // account.\n            //\n            // I know that this `if` statement looks scary, but it's pretty simple when you know\n            // what is going on - it's simply comparing all the values.\n            if ( currentState.scale === target.scale ||\n                ( currentState.rotate.x === target.rotate.x &&\n                  currentState.rotate.y === target.rotate.y &&\n                  currentState.rotate.z === target.rotate.z &&\n                  currentState.translate.x === target.translate.x &&\n                  currentState.translate.y === target.translate.y &&\n                  currentState.translate.z === target.translate.z ) ) {\n                delay = 0;\n            }\n\n            // Store current state\n            currentState = target;\n            activeStep = el;\n\n            // And here is where we trigger `impress:stepenter` event.\n            // We simply set up a timeout to fire it taking transition duration (and possible delay)\n            // into account.\n            //\n            // I really wanted to make it in more elegant way. The `transitionend` event seemed to\n            // be the best way to do it, but the fact that I'm using transitions on two separate\n            // elements and that the `transitionend` event is only triggered when there was a\n            // transition (change in the values) caused some bugs and made the code really\n            // complicated, cause I had to handle all the conditions separately. And it still\n            // needed a `setTimeout` fallback for the situations when there is no transition at all.\n            // So I decided that I'd rather make the code simpler than use shiny new\n            // `transitionend`.\n            //\n            // If you want learn something interesting and see how it was done with `transitionend`\n            // go back to version 0.5.2 of impress.js:\n            // http://github.com/bartaz/impress.js/blob/0.5.2/js/impress.js\n            window.clearTimeout( stepEnterTimeout );\n            stepEnterTimeout = window.setTimeout( function() {\n                onStepEnter( activeStep );\n            }, duration + delay );\n\n            return el;\n        };\n\n        // `prev` API function goes to previous step (in document order)\n        // `event` is optional, may contain the event that caused the need to call prev()\n        var prev = function( origEvent ) {\n            var prev = steps.indexOf( activeStep ) - 1;\n            prev = prev >= 0 ? steps[ prev ] : steps[ steps.length - 1 ];\n\n            return goto( prev, undefined, \"prev\", origEvent );\n        };\n\n        // `next` API function goes to next step (in document order)\n        // `event` is optional, may contain the event that caused the need to call next()\n        var next = function( origEvent ) {\n            var next = steps.indexOf( activeStep ) + 1;\n            next = next < steps.length ? steps[ next ] : steps[ 0 ];\n\n            return goto( next, undefined, \"next\", origEvent );\n        };\n\n        // Swipe for touch devices by @and3rson.\n        // Below we extend the api to control the animation between the currently\n        // active step and a presumed next/prev step. See touch plugin for\n        // an example of using this api.\n\n        // Helper function\n        var interpolate = function( a, b, k ) {\n            return a + ( b - a ) * k;\n        };\n\n        // Animate a swipe.\n        //\n        // Pct is a value between -1.0 and +1.0, designating the current length\n        // of the swipe.\n        //\n        // If pct is negative, swipe towards the next() step, if positive,\n        // towards the prev() step.\n        //\n        // Note that pre-stepleave plugins such as goto can mess with what is a\n        // next() and prev() step, so we need to trigger the pre-stepleave event\n        // here, even if a swipe doesn't guarantee that the transition will\n        // actually happen.\n        //\n        // Calling swipe(), with any value of pct, won't in itself cause a\n        // transition to happen, this is just to animate the swipe. Once the\n        // transition is committed - such as at a touchend event - caller is\n        // responsible for also calling prev()/next() as appropriate.\n        //\n        // Note: For now, this function is made available to be used by the swipe plugin (which\n        // is the UI counterpart to this). It is a semi-internal API and intentionally not\n        // documented in DOCUMENTATION.md.\n        var swipe = function( pct ) {\n            if ( Math.abs( pct ) > 1 ) {\n                return;\n            }\n\n            // Prepare & execute the preStepLeave event\n            var event = { target: activeStep, detail: {} };\n            event.detail.swipe = pct;\n\n            // Will be ignored within swipe animation, but just in case a plugin wants to read this,\n            // humor them\n            event.detail.transitionDuration = config.transitionDuration;\n            var idx; // Needed by jshint\n            if ( pct < 0 ) {\n                idx = steps.indexOf( activeStep ) + 1;\n                event.detail.next = idx < steps.length ? steps[ idx ] : steps[ 0 ];\n                event.detail.reason = \"next\";\n            } else if ( pct > 0 ) {\n                idx = steps.indexOf( activeStep ) - 1;\n                event.detail.next = idx >= 0 ? steps[ idx ] : steps[ steps.length - 1 ];\n                event.detail.reason = \"prev\";\n            } else {\n\n                // No move\n                return;\n            }\n            if ( execPreStepLeavePlugins( event ) === false ) {\n\n                // If a preStepLeave plugin wants to abort the transition, don't animate a swipe\n                // For stop, this is probably ok. For substep, the plugin it self might want to do\n                // some animation, but that's not the current implementation.\n                return false;\n            }\n            var nextElement = event.detail.next;\n\n            var nextStep = stepsData[ \"impress-\" + nextElement.id ];\n\n            // If the same step is re-selected, force computing window scaling,\n            var nextScale = nextStep.scale * windowScale;\n            var k = Math.abs( pct );\n\n            var interpolatedStep = {\n                translate: {\n                    x: interpolate( currentState.translate.x, -nextStep.translate.x, k ),\n                    y: interpolate( currentState.translate.y, -nextStep.translate.y, k ),\n                    z: interpolate( currentState.translate.z, -nextStep.translate.z, k )\n                },\n                rotate: {\n                    x: interpolate( currentState.rotate.x, -nextStep.rotate.x, k ),\n                    y: interpolate( currentState.rotate.y, -nextStep.rotate.y, k ),\n                    z: interpolate( currentState.rotate.z, -nextStep.rotate.z, k ),\n\n                    // Unfortunately there's a discontinuity if rotation order changes. Nothing I\n                    // can do about it?\n                    order: k < 0.7 ? currentState.rotate.order : nextStep.rotate.order\n                },\n                scale: interpolate( currentState.scale * windowScale, nextScale, k )\n            };\n\n            css( root, {\n\n                // To keep the perspective look similar for different scales\n                // we need to 'scale' the perspective, too\n                perspective: config.perspective / interpolatedStep.scale + \"px\",\n                transform: scale( interpolatedStep.scale ),\n                transitionDuration: \"0ms\",\n                transitionDelay: \"0ms\"\n            } );\n\n            css( canvas, {\n                transform: rotate( interpolatedStep.rotate, true ) +\n                           translate( interpolatedStep.translate ),\n                transitionDuration: \"0ms\",\n                transitionDelay: \"0ms\"\n            } );\n        };\n\n        // Teardown impress\n        // Resets the DOM to the state it was before impress().init() was called.\n        // (If you called impress(rootId).init() for multiple different rootId's, then you must\n        // also call tear() once for each of them.)\n        var tear = function() {\n            lib.gc.teardown();\n            delete roots[ \"impress-root-\" + rootId ];\n        };\n\n        // Adding some useful classes to step elements.\n        //\n        // All the steps that have not been shown yet are given `future` class.\n        // When the step is entered the `future` class is removed and the `present`\n        // class is given. When the step is left `present` class is replaced with\n        // `past` class.\n        //\n        // So every step element is always in one of three possible states:\n        // `future`, `present` and `past`.\n        //\n        // There classes can be used in CSS to style different types of steps.\n        // For example the `present` class can be used to trigger some custom\n        // animations when step is shown.\n        lib.gc.addEventListener( root, \"impress:init\", function() {\n\n            // STEP CLASSES\n            steps.forEach( function( step ) {\n                step.classList.add( \"future\" );\n            } );\n\n            lib.gc.addEventListener( root, \"impress:stepenter\", function( event ) {\n                event.target.classList.remove( \"past\" );\n                event.target.classList.remove( \"future\" );\n                event.target.classList.add( \"present\" );\n            }, false );\n\n            lib.gc.addEventListener( root, \"impress:stepleave\", function( event ) {\n                event.target.classList.remove( \"present\" );\n                event.target.classList.add( \"past\" );\n            }, false );\n\n        }, false );\n\n        // Adding hash change support.\n        lib.gc.addEventListener( root, \"impress:init\", function() {\n\n            // Last hash detected\n            var lastHash = \"\";\n\n            // `#/step-id` is used instead of `#step-id` to prevent default browser\n            // scrolling to element in hash.\n            //\n            // And it has to be set after animation finishes, because in Chrome it\n            // makes transtion laggy.\n            // BUG: http://code.google.com/p/chromium/issues/detail?id=62820\n            lib.gc.addEventListener( root, \"impress:stepenter\", function( event ) {\n                window.location.hash = lastHash = \"#/\" + event.target.id;\n            }, false );\n\n            lib.gc.addEventListener( window, \"hashchange\", function() {\n\n                // When the step is entered hash in the location is updated\n                // (just few lines above from here), so the hash change is\n                // triggered and we would call `goto` again on the same element.\n                //\n                // To avoid this we store last entered hash and compare.\n                if ( window.location.hash !== lastHash ) {\n                    goto( lib.util.getElementFromHash() );\n                }\n            }, false );\n\n            // START\n            // by selecting step defined in url or first step of the presentation\n            goto( lib.util.getElementFromHash() || steps[ 0 ], 0 );\n        }, false );\n\n        body.classList.add( \"impress-disabled\" );\n\n        // Store and return API for given impress.js root element\n        return ( roots[ \"impress-root-\" + rootId ] = {\n            init: init,\n            goto: goto,\n            next: next,\n            prev: prev,\n            swipe: swipe,\n            tear: tear,\n            lib: lib\n        } );\n\n    };\n\n    // Flag that can be used in JS to check if browser have passed the support test\n    impress.supported = impressSupported;\n\n    // ADD and INIT LIBRARIES\n    // Library factories are defined in src/lib/*.js, and register themselves by calling\n    // impress.addLibraryFactory(libraryFactoryObject). They're stored here, and used to augment\n    // the API with library functions when client calls impress(rootId).\n    // See src/lib/README.md for clearer example.\n    // (Advanced usage: For different values of rootId, a different instance of the libaries are\n    // generated, in case they need to hold different state for different root elements.)\n    var libraryFactories = {};\n    impress.addLibraryFactory = function( obj ) {\n        for ( var libname in obj ) {\n            if ( obj.hasOwnProperty( libname ) ) {\n                libraryFactories[ libname ] = obj[ libname ];\n            }\n        }\n    };\n\n    // Call each library factory, and return the lib object that is added to the api.\n    var initLibraries = function( rootId ) { //jshint ignore:line\n        var lib = {};\n        for ( var libname in libraryFactories ) {\n            if ( libraryFactories.hasOwnProperty( libname ) ) {\n                if ( lib[ libname ] !== undefined ) {\n                    throw \"impress.js ERROR: Two libraries both tried to use libname: \" +  libname;\n                }\n                lib[ libname ] = libraryFactories[ libname ]( rootId );\n            }\n        }\n        return lib;\n    };\n\n    // `addPreInitPlugin` allows plugins to register a function that should\n    // be run (synchronously) at the beginning of init, before\n    // impress().init() itself executes.\n    impress.addPreInitPlugin = function( plugin, weight ) {\n        weight = parseInt( weight ) || 10;\n        if ( weight <= 0 ) {\n            throw \"addPreInitPlugin: weight must be a positive integer\";\n        }\n\n        if ( preInitPlugins[ weight ] === undefined ) {\n            preInitPlugins[ weight ] = [];\n        }\n        preInitPlugins[ weight ].push( plugin );\n    };\n\n    // Called at beginning of init, to execute all pre-init plugins.\n    var execPreInitPlugins = function( root ) { //jshint ignore:line\n        for ( var i = 0; i < preInitPlugins.length; i++ ) {\n            var thisLevel = preInitPlugins[ i ];\n            if ( thisLevel !== undefined ) {\n                for ( var j = 0; j < thisLevel.length; j++ ) {\n                    thisLevel[ j ]( root );\n                }\n            }\n        }\n    };\n\n    // `addPreStepLeavePlugin` allows plugins to register a function that should\n    // be run (synchronously) at the beginning of goto()\n    impress.addPreStepLeavePlugin = function( plugin, weight ) { //jshint ignore:line\n        weight = parseInt( weight ) || 10;\n        if ( weight <= 0 ) {\n            throw \"addPreStepLeavePlugin: weight must be a positive integer\";\n        }\n\n        if ( preStepLeavePlugins[ weight ] === undefined ) {\n            preStepLeavePlugins[ weight ] = [];\n        }\n        preStepLeavePlugins[ weight ].push( plugin );\n    };\n\n    // Called at beginning of goto(), to execute all preStepLeave plugins.\n    var execPreStepLeavePlugins = function( event ) { //jshint ignore:line\n        for ( var i = 0; i < preStepLeavePlugins.length; i++ ) {\n            var thisLevel = preStepLeavePlugins[ i ];\n            if ( thisLevel !== undefined ) {\n                for ( var j = 0; j < thisLevel.length; j++ ) {\n                    if ( thisLevel[ j ]( event ) === false ) {\n\n                        // If a plugin returns false, the stepleave event (and related transition)\n                        // is aborted\n                        return false;\n                    }\n                }\n            }\n        }\n    };\n\n} )( document, window );\n\n// THAT'S ALL FOLKS!\n//\n// Thanks for reading it all.\n// Or thanks for scrolling down and reading the last part.\n//\n// I've learnt a lot when building impress.js and I hope this code and comments\n// will help somebody learn at least some part of it.\n\n/**\n * Garbage collection utility\n *\n * This library allows plugins to add elements and event listeners they add to the DOM. The user\n * can call `impress().lib.gc.teardown()` to cause all of them to be removed from DOM, so that\n * the document is in the state it was before calling `impress().init()`.\n *\n * In addition to just adding elements and event listeners to the garbage collector, plugins\n * can also register callback functions to do arbitrary cleanup upon teardown.\n *\n * Henrik Ingo (c) 2016\n * MIT License\n */\n\n( function( document, window ) {\n    \"use strict\";\n    var roots = [];\n    var rootsCount = 0;\n    var startingState = { roots: [] };\n\n    var libraryFactory = function( rootId ) {\n        if ( roots[ rootId ] ) {\n            return roots[ rootId ];\n        }\n\n        // Per root global variables (instance variables?)\n        var elementList = [];\n        var eventListenerList = [];\n        var callbackList = [];\n\n        recordStartingState( rootId );\n\n        // LIBRARY FUNCTIONS\n        // Definitions of the library functions we return as an object at the end\n\n        // `pushElement` adds a DOM element to the gc stack\n        var pushElement = function( element ) {\n            elementList.push( element );\n        };\n\n        // `appendChild` is a convenience wrapper that combines DOM appendChild with gc.pushElement\n        var appendChild = function( parent, element ) {\n            parent.appendChild( element );\n            pushElement( element );\n        };\n\n        // `pushEventListener` adds an event listener to the gc stack\n        var pushEventListener = function( target, type, listenerFunction ) {\n            eventListenerList.push( { target:target, type:type, listener:listenerFunction } );\n        };\n\n        // `addEventListener` combines DOM addEventListener with gc.pushEventListener\n        var addEventListener = function( target, type, listenerFunction ) {\n            target.addEventListener( type, listenerFunction );\n            pushEventListener( target, type, listenerFunction );\n        };\n\n        // `pushCallback` If the above utilities are not enough, plugins can add their own callback\n        // function to do arbitrary things.\n        var pushCallback = function( callback ) {\n            callbackList.push( callback );\n        };\n        pushCallback( function( rootId ) { resetStartingState( rootId ); } );\n\n        // `teardown` will\n        // - execute all callbacks in LIFO order\n        // - call `removeChild` on all DOM elements in LIFO order\n        // - call `removeEventListener` on all event listeners in LIFO order\n        // The goal of a teardown is to return to the same state that the DOM was before\n        // `impress().init()` was called.\n        var teardown = function() {\n\n            // Execute the callbacks in LIFO order\n            var i; // Needed by jshint\n            for ( i = callbackList.length - 1; i >= 0; i-- ) {\n                callbackList[ i ]( rootId );\n            }\n            callbackList = [];\n            for ( i = 0; i < elementList.length; i++ ) {\n                elementList[ i ].parentElement.removeChild( elementList[ i ] );\n            }\n            elementList = [];\n            for ( i = 0; i < eventListenerList.length; i++ ) {\n                var target   = eventListenerList[ i ].target;\n                var type     = eventListenerList[ i ].type;\n                var listener = eventListenerList[ i ].listener;\n                target.removeEventListener( type, listener );\n            }\n        };\n\n        var lib = {\n            pushElement: pushElement,\n            appendChild: appendChild,\n            pushEventListener: pushEventListener,\n            addEventListener: addEventListener,\n            pushCallback: pushCallback,\n            teardown: teardown\n        };\n        roots[ rootId ] = lib;\n        rootsCount++;\n        return lib;\n    };\n\n    // Let impress core know about the existence of this library\n    window.impress.addLibraryFactory( { gc: libraryFactory } );\n\n    // CORE INIT\n    // The library factory (gc(rootId)) is called at the beginning of impress(rootId).init()\n    // For the purposes of teardown(), we can use this as an opportunity to save the state\n    // of a few things in the DOM in their virgin state, before impress().init() did anything.\n    // Note: These could also be recorded by the code in impress.js core as these values\n    // are changed, but in an effort to not deviate too much from upstream, I'm adding\n    // them here rather than the core itself.\n    var recordStartingState = function( rootId ) {\n        startingState.roots[ rootId ] = {};\n        startingState.roots[ rootId ].steps = [];\n\n        // Record whether the steps have an id or not\n        var steps = document.getElementById( rootId ).querySelectorAll( \".step\" );\n        for ( var i = 0; i < steps.length; i++ ) {\n            var el = steps[ i ];\n            startingState.roots[ rootId ].steps.push( {\n                el: el,\n                id: el.getAttribute( \"id\" )\n            } );\n        }\n\n        // In the rare case of multiple roots, the following is changed on first init() and\n        // reset at last tear().\n        if ( rootsCount === 0 ) {\n            startingState.body = {};\n\n            // It is customary for authors to set body.class=\"impress-not-supported\" as a starting\n            // value, which can then be removed by impress().init(). But it is not required.\n            // Remember whether it was there or not.\n            if ( document.body.classList.contains( \"impress-not-supported\" ) ) {\n                startingState.body.impressNotSupported = true;\n            } else {\n                startingState.body.impressNotSupported = false;\n            }\n\n            // If there's a <meta name=\"viewport\"> element, its contents will be overwritten by init\n            var metas = document.head.querySelectorAll( \"meta\" );\n            for ( i = 0; i < metas.length; i++ ) {\n                var m = metas[ i ];\n                if ( m.name === \"viewport\" ) {\n                    startingState.meta = m.content;\n                }\n            }\n        }\n    };\n\n    // CORE TEARDOWN\n    var resetStartingState = function( rootId ) {\n\n        // Reset body element\n        document.body.classList.remove( \"impress-enabled\" );\n        document.body.classList.remove( \"impress-disabled\" );\n\n        var root = document.getElementById( rootId );\n        var activeId = root.querySelector( \".active\" ).id;\n        document.body.classList.remove( \"impress-on-\" + activeId );\n\n        document.documentElement.style.height = \"\";\n        document.body.style.height = \"\";\n        document.body.style.overflow = \"\";\n\n        // Remove style values from the root and step elements\n        // Note: We remove the ones set by impress.js core. Otoh, we didn't preserve any original\n        // values. A more sophisticated implementation could keep track of original values and then\n        // reset those.\n        var steps = root.querySelectorAll( \".step\" );\n        for ( var i = 0; i < steps.length; i++ ) {\n            steps[ i ].classList.remove( \"future\" );\n            steps[ i ].classList.remove( \"past\" );\n            steps[ i ].classList.remove( \"present\" );\n            steps[ i ].classList.remove( \"active\" );\n            steps[ i ].style.position = \"\";\n            steps[ i ].style.transform = \"\";\n            steps[ i ].style[ \"transform-style\" ] = \"\";\n        }\n        root.style.position = \"\";\n        root.style[ \"transform-origin\" ] = \"\";\n        root.style.transition = \"\";\n        root.style[ \"transform-style\" ] = \"\";\n        root.style.top = \"\";\n        root.style.left = \"\";\n        root.style.transform = \"\";\n\n        // Reset id of steps (\"step-1\" id's are auto generated)\n        steps = startingState.roots[ rootId ].steps;\n        var step;\n        while ( step = steps.pop() ) {\n            if ( step.id === null ) {\n                step.el.removeAttribute( \"id\" );\n            } else {\n                step.el.setAttribute( \"id\", step.id );\n            }\n        }\n        delete startingState.roots[ rootId ];\n\n        // Move step div elements away from canvas, then delete canvas\n        // Note: There's an implicit assumption here that the canvas div is the only child element\n        // of the root div. If there would be something else, it's gonna be lost.\n        var canvas = root.firstChild;\n        var canvasHTML = canvas.innerHTML;\n        root.innerHTML = canvasHTML;\n\n        if ( roots[ rootId ] !== undefined ) {\n            delete roots[ rootId ];\n            rootsCount--;\n        }\n        if ( rootsCount === 0 ) {\n\n            // In the rare case that more than one impress root elements were initialized, these\n            // are only reset when all are uninitialized.\n            document.body.classList.remove( \"impress-supported\" );\n            if ( startingState.body.impressNotSupported ) {\n                document.body.classList.add( \"impress-not-supported\" );\n            }\n\n            // We need to remove or reset the meta element inserted by impress.js\n            var metas = document.head.querySelectorAll( \"meta\" );\n            for ( i = 0; i < metas.length; i++ ) {\n                var m = metas[ i ];\n                if ( m.name === \"viewport\" ) {\n                    if ( startingState.meta !== undefined ) {\n                        m.content = startingState.meta;\n                    } else {\n                        m.parentElement.removeChild( m );\n                    }\n                }\n            }\n        }\n\n    };\n\n} )( document, window );\n\n/**\n * Common utility functions\n *\n * Copyright 2011-2012 Bartek Szopka (@bartaz)\n * Henrik Ingo (c) 2016\n * MIT License\n */\n\n( function( document, window ) {\n    \"use strict\";\n    var roots = [];\n\n    var libraryFactory = function( rootId ) {\n        if ( roots[ rootId ] ) {\n            return roots[ rootId ];\n        }\n\n        // `$` returns first element for given CSS `selector` in the `context` of\n        // the given element or whole document.\n        var $ = function( selector, context ) {\n            context = context || document;\n            return context.querySelector( selector );\n        };\n\n        // `$$` return an array of elements for given CSS `selector` in the `context` of\n        // the given element or whole document.\n        var $$ = function( selector, context ) {\n            context = context || document;\n            return arrayify( context.querySelectorAll( selector ) );\n        };\n\n        // `arrayify` takes an array-like object and turns it into real Array\n        // to make all the Array.prototype goodness available.\n        var arrayify = function( a ) {\n            return [].slice.call( a );\n        };\n\n        // `byId` returns element with given `id` - you probably have guessed that ;)\n        var byId = function( id ) {\n            return document.getElementById( id );\n        };\n\n        // `getElementFromHash` returns an element located by id from hash part of\n        // window location.\n        var getElementFromHash = function() {\n\n            // Get id from url # by removing `#` or `#/` from the beginning,\n            // so both \"fallback\" `#slide-id` and \"enhanced\" `#/slide-id` will work\n            return byId( window.location.hash.replace( /^#\\/?/, \"\" ) );\n        };\n\n        // `getUrlParamValue` return a given URL parameter value if it exists\n        // `undefined` if it doesn't exist\n        var getUrlParamValue = function( parameter ) {\n            var chunk = window.location.search.split( parameter + \"=\" )[ 1 ];\n            var value = chunk && chunk.split( \"&\" )[ 0 ];\n\n            if ( value !== \"\" ) {\n                return value;\n            }\n        };\n\n        // Throttling function calls, by Remy Sharp\n        // http://remysharp.com/2010/07/21/throttling-function-calls/\n        var throttle = function( fn, delay ) {\n            var timer = null;\n            return function() {\n                var context = this, args = arguments;\n                window.clearTimeout( timer );\n                timer = window.setTimeout( function() {\n                    fn.apply( context, args );\n                }, delay );\n            };\n        };\n\n        // `toNumber` takes a value given as `numeric` parameter and tries to turn\n        // it into a number. If it is not possible it returns 0 (or other value\n        // given as `fallback`).\n        var toNumber = function( numeric, fallback ) {\n            return isNaN( numeric ) ? ( fallback || 0 ) : Number( numeric );\n        };\n\n        // `triggerEvent` builds a custom DOM event with given `eventName` and `detail` data\n        // and triggers it on element given as `el`.\n        var triggerEvent = function( el, eventName, detail ) {\n            var event = document.createEvent( \"CustomEvent\" );\n            event.initCustomEvent( eventName, true, true, detail );\n            el.dispatchEvent( event );\n        };\n\n        var lib = {\n            $: $,\n            $$: $$,\n            arrayify: arrayify,\n            byId: byId,\n            getElementFromHash: getElementFromHash,\n            throttle: throttle,\n            toNumber: toNumber,\n            triggerEvent: triggerEvent,\n            getUrlParamValue: getUrlParamValue\n        };\n        roots[ rootId ] = lib;\n        return lib;\n    };\n\n    // Let impress core know about the existence of this library\n    window.impress.addLibraryFactory( { util: libraryFactory } );\n\n} )( document, window );\n\n/**\n * Autoplay plugin - Automatically advance slideshow after N seconds\n *\n * Copyright 2016 Henrik Ingo, henrik.ingo@avoinelama.fi\n * Released under the MIT license.\n */\n/* global clearTimeout, setTimeout, document */\n\n( function( document ) {\n    \"use strict\";\n\n    var autoplayDefault = 0;\n    var currentStepTimeout = 0;\n    var api = null;\n    var timeoutHandle = null;\n    var root = null;\n    var util;\n\n    // On impress:init, check whether there is a default setting, as well as\n    // handle step-1.\n    document.addEventListener( \"impress:init\", function( event ) {\n        util = event.detail.api.lib.util;\n\n        // Getting API from event data instead of global impress().init().\n        // You don't even need to know what is the id of the root element\n        // or anything. `impress:init` event data gives you everything you\n        // need to control the presentation that was just initialized.\n        api = event.detail.api;\n        root = event.target;\n\n        // Element attributes starting with \"data-\", become available under\n        // element.dataset. In addition hyphenized words become camelCased.\n        var data = root.dataset;\n        var autoplay = util.getUrlParamValue( \"impress-autoplay\" ) || data.autoplay;\n\n        if ( autoplay ) {\n            autoplayDefault = util.toNumber( autoplay, 0 );\n        }\n\n        var toolbar = document.querySelector( \"#impress-toolbar\" );\n        if ( toolbar ) {\n            addToolbarButton( toolbar );\n        }\n\n        api.lib.gc.pushCallback( function() {\n            clearTimeout( timeoutHandle );\n        } );\n\n        // Note that right after impress:init event, also impress:stepenter is\n        // triggered for the first slide, so that's where code flow continues.\n    }, false );\n\n    document.addEventListener( \"impress:autoplay:pause\", function( event ) {\n        status = \"paused\";\n        reloadTimeout( event );\n    }, false );\n\n    document.addEventListener( \"impress:autoplay:play\", function( event ) {\n        status = \"playing\";\n        reloadTimeout( event );\n    }, false );\n\n    // If default autoplay time was defined in the presentation root, or\n    // in this step, set timeout.\n    var reloadTimeout = function( event ) {\n        var step = event.target;\n        currentStepTimeout = util.toNumber( step.dataset.autoplay, autoplayDefault );\n        if ( status === \"paused\" ) {\n            setAutoplayTimeout( 0 );\n        } else {\n            setAutoplayTimeout( currentStepTimeout );\n        }\n    };\n\n    document.addEventListener( \"impress:stepenter\", function( event ) {\n        reloadTimeout( event );\n    }, false );\n\n    document.addEventListener( \"impress:substep:enter\", function( event ) {\n        reloadTimeout( event );\n    }, false );\n\n    /**\n     * Set timeout after which we move to next() step.\n     */\n    var setAutoplayTimeout = function( timeout ) {\n        if ( timeoutHandle ) {\n            clearTimeout( timeoutHandle );\n        }\n\n        if ( timeout > 0 ) {\n            timeoutHandle = setTimeout( function() { api.next(); }, timeout * 1000 );\n        }\n        setButtonText();\n    };\n\n    /*** Toolbar plugin integration *******************************************/\n    var status = \"not clicked\";\n    var toolbarButton = null;\n\n    var makeDomElement = function( html ) {\n        var tempDiv = document.createElement( \"div\" );\n        tempDiv.innerHTML = html;\n        return tempDiv.firstChild;\n    };\n\n    var toggleStatus = function() {\n        if ( currentStepTimeout > 0 && status !== \"paused\" ) {\n            status = \"paused\";\n        } else {\n            status = \"playing\";\n        }\n    };\n\n    var getButtonText = function() {\n        if ( currentStepTimeout > 0 && status !== \"paused\" ) {\n            return \"||\"; // Pause\n        } else {\n            return \"&#9654;\"; // Play\n        }\n    };\n\n    var setButtonText = function() {\n        if ( toolbarButton ) {\n\n            // Keep button size the same even if label content is changing\n            var buttonWidth = toolbarButton.offsetWidth;\n            var buttonHeight = toolbarButton.offsetHeight;\n            toolbarButton.innerHTML = getButtonText();\n            if ( !toolbarButton.style.width ) {\n                toolbarButton.style.width = buttonWidth + \"px\";\n            }\n            if ( !toolbarButton.style.height ) {\n                toolbarButton.style.height = buttonHeight + \"px\";\n            }\n        }\n    };\n\n    var addToolbarButton = function( toolbar ) {\n        var html = '<button id=\"impress-autoplay-playpause\" ' + // jshint ignore:line\n                   'title=\"Autoplay\" class=\"impress-autoplay\">' + // jshint ignore:line\n                   getButtonText() + \"</button>\"; // jshint ignore:line\n        toolbarButton = makeDomElement( html );\n        toolbarButton.addEventListener( \"click\", function() {\n            toggleStatus();\n            if ( status === \"playing\" ) {\n                if ( autoplayDefault === 0 ) {\n                    autoplayDefault = 7;\n                }\n                if ( currentStepTimeout === 0 ) {\n                    currentStepTimeout = autoplayDefault;\n                }\n                setAutoplayTimeout( currentStepTimeout );\n            } else if ( status === \"paused\" ) {\n                setAutoplayTimeout( 0 );\n            }\n        } );\n\n        util.triggerEvent( toolbar, \"impress:toolbar:appendChild\",\n                      { group: 10, element: toolbarButton } );\n    };\n\n} )( document );\n\n/**\n * Blackout plugin\n *\n * Press b or . to hide all slides, and b or . again to show them.\n * Also navigating to a different slide will show them again (impress:stepleave).\n *\n * Copyright 2014 @Strikeskids\n * Released under the MIT license.\n */\n/* global document */\n\n( function( document ) {\n    \"use strict\";\n\n    var canvas = null;\n    var blackedOut = false;\n    var util = null;\n    var root = null;\n    var api = null;\n\n    // While waiting for a shared library of utilities, copying these 2 from main impress.js\n    var css = function( el, props ) {\n        var key, pkey;\n        for ( key in props ) {\n            if ( props.hasOwnProperty( key ) ) {\n                pkey = pfx( key );\n                if ( pkey !== null ) {\n                    el.style[ pkey ] = props[ key ];\n                }\n            }\n        }\n        return el;\n    };\n\n    var pfx = ( function() {\n\n        var style = document.createElement( \"dummy\" ).style,\n            prefixes = \"Webkit Moz O ms Khtml\".split( \" \" ),\n            memory = {};\n\n        return function( prop ) {\n            if ( typeof memory[ prop ] === \"undefined\" ) {\n\n                var ucProp  = prop.charAt( 0 ).toUpperCase() + prop.substr( 1 ),\n                    props   = ( prop + \" \" + prefixes.join( ucProp + \" \" ) + ucProp ).split( \" \" );\n\n                memory[ prop ] = null;\n                for ( var i in props ) {\n                    if ( style[ props[ i ] ] !== undefined ) {\n                        memory[ prop ] = props[ i ];\n                        break;\n                    }\n                }\n\n            }\n\n            return memory[ prop ];\n        };\n\n    } )();\n\n    var removeBlackout = function() {\n        if ( blackedOut ) {\n            css( canvas, {\n                display: \"block\"\n            } );\n            blackedOut = false;\n            util.triggerEvent( root, \"impress:autoplay:play\", {} );\n        }\n    };\n\n    var blackout = function() {\n        if ( blackedOut ) {\n            removeBlackout();\n        } else {\n            css( canvas, {\n                display: ( blackedOut = !blackedOut ) ? \"none\" : \"block\"\n            } );\n            blackedOut = true;\n            util.triggerEvent( root, \"impress:autoplay:pause\", {} );\n        }\n    };\n\n    // Wait for impress.js to be initialized\n    document.addEventListener( \"impress:init\", function( event ) {\n        api = event.detail.api;\n        util = api.lib.util;\n        root = event.target;\n        canvas = root.firstElementChild;\n        var gc = api.lib.gc;\n        var util = api.lib.util;\n\n        gc.addEventListener( document, \"keydown\", function( event ) {\n\n            // Accept b or . -> . is sent by presentation remote controllers\n            if ( event.keyCode === 66 || event.keyCode === 190 ) {\n                event.preventDefault();\n                if ( !blackedOut ) {\n                    blackout();\n                } else {\n                    removeBlackout();\n                }\n            }\n        }, false );\n\n        gc.addEventListener( document, \"keyup\", function( event ) {\n\n            // Accept b or . -> . is sent by presentation remote controllers\n            if ( event.keyCode === 66 || event.keyCode === 190 ) {\n                event.preventDefault();\n            }\n        }, false );\n\n    }, false );\n\n    document.addEventListener( \"impress:stepleave\", function() {\n        removeBlackout();\n    }, false );\n\n} )( document );\n\n\n/**\n * Extras Plugin\n *\n * This plugin performs initialization (like calling mermaid.initialize())\n * for the extras/ plugins if they are loaded into a presentation.\n *\n * See README.md for details.\n *\n * Copyright 2016 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n/* global markdown, hljs, mermaid, impress, document, window */\n\n( function( document, window ) {\n    \"use strict\";\n\n    var preInit = function() {\n        if ( window.markdown ) {\n\n            // Unlike the other extras, Markdown.js doesn't by default do anything in\n            // particular. We do it ourselves here.\n            // In addition, we use \"-----\" as a delimiter for new slide.\n\n            // Query all .markdown elements and translate to HTML\n            var markdownDivs = document.querySelectorAll( \".markdown\" );\n            for ( var idx = 0; idx < markdownDivs.length; idx++ ) {\n              var element = markdownDivs[ idx ];\n              var dialect = element.dataset.markdownDialect;\n\n              var slides = element.textContent.split( /^-----$/m );\n              var i = slides.length - 1;\n              element.innerHTML = markdown.toHTML( slides[ i ], dialect );\n\n              // If there's an id, unset it for last, and all other, elements,\n              // and then set it for the first.\n              var id = null;\n              if ( element.id ) {\n                id = element.id;\n                element.id = \"\";\n              }\n              i--;\n              while ( i >= 0 ) {\n                var newElement = element.cloneNode( false );\n                newElement.innerHTML = markdown.toHTML( slides[ i ] );\n                element.parentNode.insertBefore( newElement, element );\n                element = newElement;\n                i--;\n              }\n              if ( id !== null ) {\n                element.id = id;\n              }\n            }\n        } // Markdown\n\n        if ( window.hljs ) {\n            hljs.initHighlightingOnLoad();\n        }\n\n        if ( window.mermaid ) {\n            mermaid.initialize( { startOnLoad:true } );\n        }\n    };\n\n    // Register the plugin to be called in pre-init phase\n    // Note: Markdown.js should run early/first, because it creates new div elements.\n    // So add this with a lower-than-default weight.\n    impress.addPreInitPlugin( preInit, 1 );\n\n} )( document, window );\n\n\n/**\n * Form support\n *\n * Functionality to better support use of input, textarea, button... elements in a presentation.\n *\n * This plugin does two things:\n *\n * Set stopPropagation on any element that might take text input. This allows users to type, for\n * example, the letter 'P' into a form field, without causing the presenter console to spring up.\n *\n * On impress:stepleave, de-focus any potentially active\n * element. This is to prevent the focus from being left in a form element that is no longer visible\n * in the window, and user therefore typing garbage into the form.\n *\n * TODO: Currently it is not possible to use TAB to navigate between form elements. Impress.js, and\n * in particular the navigation plugin, unfortunately must fully take control of the tab key,\n * otherwise a user could cause the browser to scroll to a link or button that's not on the current\n * step. However, it could be possible to allow tab navigation between form elements, as long as\n * they are on the active step. This is a topic for further study.\n *\n * Copyright 2016 Henrik Ingo\n * MIT License\n */\n/* global document */\n( function( document ) {\n    \"use strict\";\n    var root;\n    var api;\n\n    document.addEventListener( \"impress:init\", function( event ) {\n        root = event.target;\n        api = event.detail.api;\n        var gc = api.lib.gc;\n\n        var selectors = [ \"input\", \"textarea\", \"select\", \"[contenteditable=true]\" ];\n        for ( var selector of selectors ) {\n            var elements = document.querySelectorAll( selector );\n            if ( !elements ) {\n                continue;\n            }\n\n            for ( var i = 0; i < elements.length; i++ ) {\n                var e = elements[ i ];\n                gc.addEventListener( e, \"keydown\", function( event ) {\n                    event.stopPropagation();\n                } );\n                gc.addEventListener( e, \"keyup\", function( event ) {\n                    event.stopPropagation();\n                } );\n            }\n        }\n    }, false );\n\n    document.addEventListener( \"impress:stepleave\", function() {\n        document.activeElement.blur();\n    }, false );\n\n} )( document );\n\n\n/**\n * Fullscreen plugin\n *\n * Press F5 to enter fullscreen and ESC to exit fullscreen mode.\n *\n * Copyright 2019 @giflw\n * Released under the MIT license.\n */\n/* global document */\n\n( function( document ) {\n    \"use strict\";\n\n    function enterFullscreen() {\n        var elem = document.documentElement;\n        if ( !document.fullscreenElement ) {\n            elem.requestFullscreen();\n        }\n    }\n\n    function exitFullscreen() {\n        if ( document.fullscreenElement ) {\n            document.exitFullscreen();\n        }\n    }\n\n    // Wait for impress.js to be initialized\n    document.addEventListener( \"impress:init\", function( event ) {\n        var api = event.detail.api;\n        var root = event.target;\n        var gc = api.lib.gc;\n        var util = api.lib.util;\n\n        gc.addEventListener( document, \"keydown\", function( event ) {\n\n            // 116 (F5) is sent by presentation remote controllers\n            if ( event.code === \"F5\" ) {\n                event.preventDefault();\n                enterFullscreen();\n                util.triggerEvent( root.querySelector( \".active\" ), \"impress:steprefresh\" );\n            }\n\n            // 27 (Escape) is sent by presentation remote controllers\n            if ( event.key === \"Escape\" || event.key === \"F5\" ) {\n                event.preventDefault();\n                exitFullscreen();\n                util.triggerEvent( root.querySelector( \".active\" ), \"impress:steprefresh\" );\n            }\n        }, false );\n\n        util.triggerEvent( document, \"impress:help:add\",\n            { command: \"F5 / ESC\", text: \"Fullscreen: Enter / Exit\", row: 200 } );\n\n    }, false );\n\n} )( document );\n\n\n/**\n * Goto Plugin\n *\n * The goto plugin is a pre-stepleave plugin. It is executed before impress:stepleave,\n * and will alter the destination where to transition next.\n *\n * Example:\n *\n *         <!-- When leaving this step, go directly to \"step-5\" -->\n *         <div class=\"step\" data-goto=\"step-5\">\n *\n *         <!-- When leaving this step with next(), go directly to \"step-5\", instead of next step.\n *              If moving backwards to previous step - e.g. prev() instead of next() -\n *              then go to \"step-1\". -->\n *         <div class=\"step\" data-goto-next=\"step-5\" data-goto-prev=\"step-1\">\n *\n *        <!-- data-goto-key-list and data-goto-next-list allow you to build advanced non-linear\n *             navigation. -->\n *        <div class=\"step\"\n *             data-goto-key-list=\"ArrowUp ArrowDown ArrowRight ArrowLeft\"\n *             data-goto-next-list=\"step-4 step-3 step-2 step-5\">\n *\n * See https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values for a table\n * of what strings to use for each key.\n *\n * Copyright 2016-2017 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n/* global window, document, impress */\n\n( function( document, window ) {\n    \"use strict\";\n    var lib;\n\n    document.addEventListener( \"impress:init\", function( event ) {\n        lib = event.detail.api.lib;\n    }, false );\n\n    var isNumber = function( numeric ) {\n        return !isNaN( numeric );\n    };\n\n    var goto = function( event ) {\n        if ( ( !event ) || ( !event.target ) ) {\n            return;\n        }\n\n        var data = event.target.dataset;\n        var steps = document.querySelectorAll( \".step\" );\n\n        // Data-goto-key-list=\"\" & data-goto-next-list=\"\" //////////////////////////////////////////\n        if ( data.gotoKeyList !== undefined &&\n             data.gotoNextList !== undefined &&\n             event.origEvent !== undefined &&\n             event.origEvent.key !== undefined ) {\n            var keylist = data.gotoKeyList.split( \" \" );\n            var nextlist = data.gotoNextList.split( \" \" );\n\n            if ( keylist.length !== nextlist.length ) {\n                window.console.log(\n                    \"impress goto plugin: data-goto-key-list and data-goto-next-list don't match:\"\n                );\n                window.console.log( keylist );\n                window.console.log( nextlist );\n\n                // Don't return, allow the other categories to work despite this error\n            } else {\n                var index = keylist.indexOf( event.origEvent.key );\n                if ( index >= 0 ) {\n                    var next = nextlist[ index ];\n                    if ( isNumber( next ) ) {\n                        event.detail.next = steps[ next ];\n\n                        // If the new next element has its own transitionDuration, we're responsible\n                        // for setting that on the event as well\n                        event.detail.transitionDuration = lib.util.toNumber(\n                            event.detail.next.dataset.transitionDuration,\n                            event.detail.transitionDuration\n                        );\n                        return;\n                    } else {\n                        var newTarget = document.getElementById( next );\n                        if ( newTarget && newTarget.classList.contains( \"step\" ) ) {\n                            event.detail.next = newTarget;\n                            event.detail.transitionDuration = lib.util.toNumber(\n                                event.detail.next.dataset.transitionDuration,\n                                event.detail.transitionDuration\n                            );\n                            return;\n                        } else {\n                            window.console.log( \"impress goto plugin: \" + next +\n                                                \" is not a step in this impress presentation.\" );\n                        }\n                    }\n                }\n            }\n        }\n\n        // Data-goto-next=\"\" & data-goto-prev=\"\" ///////////////////////////////////////////////////\n\n        // Handle event.target data-goto-next attribute\n        if ( isNumber( data.gotoNext ) && event.detail.reason === \"next\" ) {\n            event.detail.next = steps[ data.gotoNext ];\n\n            // If the new next element has its own transitionDuration, we're responsible for setting\n            // that on the event as well\n            event.detail.transitionDuration = lib.util.toNumber(\n                event.detail.next.dataset.transitionDuration, event.detail.transitionDuration\n            );\n            return;\n        }\n        if ( data.gotoNext && event.detail.reason === \"next\" ) {\n            var newTarget = document.getElementById( data.gotoNext ); // jshint ignore:line\n            if ( newTarget && newTarget.classList.contains( \"step\" ) ) {\n                event.detail.next = newTarget;\n                event.detail.transitionDuration = lib.util.toNumber(\n                    event.detail.next.dataset.transitionDuration,\n                    event.detail.transitionDuration\n                );\n                return;\n            } else {\n                window.console.log( \"impress goto plugin: \" + data.gotoNext +\n                                    \" is not a step in this impress presentation.\" );\n            }\n        }\n\n        // Handle event.target data-goto-prev attribute\n        if ( isNumber( data.gotoPrev ) && event.detail.reason === \"prev\" ) {\n            event.detail.next = steps[ data.gotoPrev ];\n            event.detail.transitionDuration = lib.util.toNumber(\n                event.detail.next.dataset.transitionDuration, event.detail.transitionDuration\n            );\n            return;\n        }\n        if ( data.gotoPrev && event.detail.reason === \"prev\" ) {\n            var newTarget = document.getElementById( data.gotoPrev ); // jshint ignore:line\n            if ( newTarget && newTarget.classList.contains( \"step\" ) ) {\n                event.detail.next = newTarget;\n                event.detail.transitionDuration = lib.util.toNumber(\n                    event.detail.next.dataset.transitionDuration, event.detail.transitionDuration\n                );\n                return;\n            } else {\n                window.console.log( \"impress goto plugin: \" + data.gotoPrev +\n                                    \" is not a step in this impress presentation.\" );\n            }\n        }\n\n        // Data-goto=\"\" ///////////////////////////////////////////////////////////////////////////\n\n        // Handle event.target data-goto attribute\n        if ( isNumber( data.goto ) ) {\n            event.detail.next = steps[ data.goto ];\n            event.detail.transitionDuration = lib.util.toNumber(\n                event.detail.next.dataset.transitionDuration, event.detail.transitionDuration\n            );\n            return;\n        }\n        if ( data.goto ) {\n            var newTarget = document.getElementById( data.goto ); // jshint ignore:line\n            if ( newTarget && newTarget.classList.contains( \"step\" ) ) {\n                event.detail.next = newTarget;\n                event.detail.transitionDuration = lib.util.toNumber(\n                    event.detail.next.dataset.transitionDuration, event.detail.transitionDuration\n                );\n                return;\n            } else {\n                window.console.log( \"impress goto plugin: \" + data.goto +\n                                    \" is not a step in this impress presentation.\" );\n            }\n        }\n    };\n\n    // Register the plugin to be called in pre-stepleave phase\n    impress.addPreStepLeavePlugin( goto );\n\n} )( document, window );\n\n\n/**\n * Help popup plugin\n *\n * Example:\n *\n *     <!-- Show a help popup at start, or if user presses \"H\" -->\n *     <div id=\"impress-help\"></div>\n *\n * For developers:\n *\n * Typical use for this plugin, is for plugins that support some keypress, to add a line\n * to the help popup produced by this plugin. For example \"P: Presenter console\".\n *\n * Copyright 2016 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n/* global window, document */\n\n( function( document, window ) {\n    \"use strict\";\n    var rows = [];\n    var timeoutHandle;\n\n    var triggerEvent = function( el, eventName, detail ) {\n        var event = document.createEvent( \"CustomEvent\" );\n        event.initCustomEvent( eventName, true, true, detail );\n        el.dispatchEvent( event );\n    };\n\n    var renderHelpDiv = function() {\n        var helpDiv = document.getElementById( \"impress-help\" );\n        if ( helpDiv ) {\n            var html = [];\n            for ( var row in rows ) {\n                for ( var arrayItem in row ) {\n                    html.push( rows[ row ][ arrayItem ] );\n                }\n            }\n            if ( html ) {\n                helpDiv.innerHTML = \"<table>\\n\" + html.join( \"\\n\" ) + \"</table>\\n\";\n            }\n        }\n    };\n\n    var toggleHelp = function() {\n        var helpDiv = document.getElementById( \"impress-help\" );\n        if ( !helpDiv ) {\n            return;\n        }\n\n        if ( helpDiv.style.display === \"block\" ) {\n            helpDiv.style.display = \"none\";\n        } else {\n            helpDiv.style.display = \"block\";\n            window.clearTimeout( timeoutHandle );\n        }\n    };\n\n    document.addEventListener( \"keyup\", function( event ) {\n\n        if ( event.keyCode === 72 || event.keyCode === 191 ) { // \"h\" || \"?\"\n            event.preventDefault();\n            toggleHelp();\n        }\n    }, false );\n\n    // API\n    // Other plugins can add help texts, typically if they support an action on a keypress.\n    /**\n     * Add a help text to the help popup.\n     *\n     * :param: e.detail.command  Example: \"H\"\n     * :param: e.detail.text     Example: \"Show this help.\"\n     * :param: e.detail.row      Row index from 0 to 9 where to place this help text. Example: 0\n     */\n    document.addEventListener( \"impress:help:add\", function( e ) {\n\n        // The idea is for the sender of the event to supply a unique row index, used for sorting.\n        // But just in case two plugins would ever use the same row index, we wrap each row into\n        // its own array. If there are more than one entry for the same index, they are shown in\n        // first come, first serve ordering.\n        var rowIndex = e.detail.row;\n        if ( typeof rows[ rowIndex ] !== \"object\" || !rows[ rowIndex ].isArray ) {\n            rows[ rowIndex ] = [];\n        }\n        rows[ e.detail.row ].push( \"<tr><td><strong>\" + e.detail.command + \"</strong></td><td>\" +\n                                   e.detail.text + \"</td></tr>\" );\n        renderHelpDiv();\n    } );\n\n    document.addEventListener( \"impress:init\", function( e ) {\n        renderHelpDiv();\n\n        // At start, show the help for 7 seconds.\n        var helpDiv = document.getElementById( \"impress-help\" );\n        if ( helpDiv ) {\n            helpDiv.style.display = \"block\";\n            timeoutHandle = window.setTimeout( function() {\n                var helpDiv = document.getElementById( \"impress-help\" );\n                helpDiv.style.display = \"none\";\n            }, 7000 );\n\n            // Regster callback to empty the help div on teardown\n            var api = e.detail.api;\n            api.lib.gc.pushCallback( function() {\n                window.clearTimeout( timeoutHandle );\n                helpDiv.style.display = \"\";\n                helpDiv.innerHTML = \"\";\n                rows = [];\n            } );\n        }\n\n        // Use our own API to register the help text for \"h\"\n        triggerEvent( document, \"impress:help:add\",\n                      { command: \"H\", text: \"Show this help\", row: 0 } );\n    } );\n\n} )( document, window );\n\n\n/**\n * Adds a presenter console to impress.js\n *\n * MIT Licensed, see license.txt.\n *\n * Copyright 2012, 2013, 2015 impress-console contributors (see README.txt)\n *\n * version: 1.3-dev\n *\n */\n\n// This file contains so much HTML, that we will just respectfully disagree about js\n/* jshint quotmark:single */\n/* global navigator, top, setInterval, clearInterval, document, window */\n\n( function( document, window ) {\n    'use strict';\n\n    // TODO: Move this to src/lib/util.js\n    var triggerEvent = function( el, eventName, detail ) {\n        var event = document.createEvent( 'CustomEvent' );\n        event.initCustomEvent( eventName, true, true, detail );\n        el.dispatchEvent( event );\n    };\n\n    // Create Language object depending on browsers language setting\n    var lang;\n    switch ( navigator.language ) {\n    case 'de':\n        lang = {\n            'noNotes': '<div class=\"noNotes\">Keine Notizen hierzu</div>',\n            'restart': 'Neustart',\n            'clickToOpen': 'Klicken um Sprecherkonsole zu öffnen',\n            'prev': 'zurück',\n            'next': 'weiter',\n            'loading': 'initalisiere',\n            'ready': 'Bereit',\n            'moving': 'in Bewegung',\n            'useAMPM': false\n        };\n        break;\n    case 'zh-CN':\n    case 'zh-cn':\n        lang = {\n            'noNotes': '<div class=\"noNotes\">当前帧没有备注</div>',\n            'restart': '重新开始',\n            'clickToOpen': '点击以打开演讲者控制界面',\n            'prev': '上一帧',\n            'next': '下一帧',\n            'loading': '加载中',\n            'ready': '就绪',\n            'moving': '移动中',\n            'useAMPM': false\n        };\n        break;\n    case 'en': // jshint ignore:line\n    default : // jshint ignore:line\n        lang = {\n            'noNotes': '<div class=\"noNotes\">No notes for this step</div>',\n            'restart': 'Restart',\n            'clickToOpen': 'Click to open speaker console',\n            'prev': 'Prev',\n            'next': 'Next',\n            'loading': 'Loading',\n            'ready': 'Ready',\n            'moving': 'Moving',\n            'useAMPM': false\n        };\n        break;\n    }\n\n    // Settings to set iframe in speaker console\n    const preViewDefaultFactor = 0.7;\n    const preViewMinimumFactor = 0.5;\n    const preViewGap    = 4;\n\n    // This is the default template for the speaker console window\n    const consoleTemplate = '<!DOCTYPE html>' +\n        '<html id=\"impressconsole\"><head>' +\n\n          // Order is important: If user provides a cssFile, those will win, because they're later\n          '{{cssStyle}}' +\n          '{{cssLink}}' +\n        '</head><body>' +\n        '<div id=\"console\">' +\n          '<div id=\"views\">' +\n            '<iframe id=\"slideView\" scrolling=\"no\"></iframe>' +\n            '<iframe id=\"preView\" scrolling=\"no\"></iframe>' +\n            '<div id=\"blocker\"></div>' +\n          '</div>' +\n          '<div id=\"notes\"></div>' +\n        '</div>' +\n        '<div id=\"controls\"> ' +\n          '<div id=\"prev\"><a  href=\"#\" onclick=\"impress().prev(); return false;\" />' +\n            '{{prev}}</a></div>' +\n          '<div id=\"next\"><a  href=\"#\" onclick=\"impress().next(); return false;\" />' +\n            '{{next}}</a></div>' +\n          '<div id=\"clock\">--:--</div>' +\n          '<div id=\"timer\" onclick=\"timerReset()\">00m 00s</div>' +\n          '<div id=\"status\">{{loading}}</div>' +\n        '</div>' +\n        '</body></html>';\n\n    // Default css location\n    var cssFileOldDefault = 'css/impressConsole.css';\n    var cssFile = undefined; // jshint ignore:line\n\n    // Css for styling iframs on the console\n    var cssFileIframeOldDefault = 'css/iframe.css';\n    var cssFileIframe = undefined; // jshint ignore:line\n\n    // All console windows, so that you can call impressConsole() repeatedly.\n    var allConsoles = {};\n\n    // Zero padding helper function:\n    var zeroPad = function( i ) {\n        return ( i < 10 ? '0' : '' ) + i;\n    };\n\n    // The console object\n    var impressConsole = window.impressConsole = function( rootId ) {\n\n        rootId = rootId || 'impress';\n\n        if ( allConsoles[ rootId ] ) {\n            return allConsoles[ rootId ];\n        }\n\n        // Root presentation elements\n        var root = document.getElementById( rootId );\n\n        var consoleWindow = null;\n\n        var nextStep = function() {\n            var classes = '';\n            var nextElement = document.querySelector( '.active' );\n\n            // Return to parents as long as there is no next sibling\n            while ( !nextElement.nextElementSibling && nextElement.parentNode ) {\n                nextElement = nextElement.parentNode;\n            }\n            nextElement = nextElement.nextElementSibling;\n            while ( nextElement ) {\n                classes = nextElement.attributes[ 'class' ];\n                if ( classes && classes.value.indexOf( 'step' ) !== -1 ) {\n                    consoleWindow.document.getElementById( 'blocker' ).innerHTML = lang.next;\n                    return nextElement;\n                }\n\n                if ( nextElement.firstElementChild ) { // First go into deep\n                    nextElement = nextElement.firstElementChild;\n                } else {\n\n                    // Go to next sibling or through parents until there is a next sibling\n                    while ( !nextElement.nextElementSibling && nextElement.parentNode ) {\n                        nextElement = nextElement.parentNode;\n                    }\n                    nextElement = nextElement.nextElementSibling;\n                }\n            }\n\n            // No next element. Pick the first\n            consoleWindow.document.getElementById( 'blocker' ).innerHTML = lang.restart;\n            return document.querySelector( '.step' );\n        };\n\n        // Sync the notes to the step\n        var onStepLeave = function() {\n            if ( consoleWindow ) {\n\n                // Set notes to next steps notes.\n                var newNotes = document.querySelector( '.active' ).querySelector( '.notes' );\n                if ( newNotes ) {\n                    newNotes = newNotes.innerHTML;\n                } else {\n                    newNotes = lang.noNotes;\n                }\n                consoleWindow.document.getElementById( 'notes' ).innerHTML = newNotes;\n\n                // Set the views\n                var baseURL = document.URL.substring( 0, document.URL.search( '#/' ) );\n                var slideSrc = baseURL + '#' + document.querySelector( '.active' ).id;\n                var preSrc = baseURL + '#' + nextStep().id;\n                var slideView = consoleWindow.document.getElementById( 'slideView' );\n\n                // Setting when already set causes glitches in Firefox, so check first:\n                if ( slideView.src !== slideSrc ) {\n                    slideView.src = slideSrc;\n                }\n                var preView = consoleWindow.document.getElementById( 'preView' );\n                if ( preView.src !== preSrc ) {\n                    preView.src = preSrc;\n                }\n\n                consoleWindow.document.getElementById( 'status' ).innerHTML =\n                    '<span class=\"moving\">' + lang.moving + '</span>';\n            }\n        };\n\n        // Sync the previews to the step\n        var onStepEnter = function() {\n            if ( consoleWindow ) {\n\n                // We do everything here again, because if you stopped the previos step to\n                // early, the onstepleave trigger is not called for that step, so\n                // we need this to sync things.\n                var newNotes = document.querySelector( '.active' ).querySelector( '.notes' );\n                if ( newNotes ) {\n                    newNotes = newNotes.innerHTML;\n                } else {\n                    newNotes = lang.noNotes;\n                }\n                var notes = consoleWindow.document.getElementById( 'notes' );\n                notes.innerHTML = newNotes;\n                notes.scrollTop = 0;\n\n                // Set the views\n                var baseURL = document.URL.substring( 0, document.URL.search( '#/' ) );\n                var slideSrc = baseURL + '#' + document.querySelector( '.active' ).id;\n                var preSrc = baseURL + '#' + nextStep().id;\n                var slideView = consoleWindow.document.getElementById( 'slideView' );\n\n                // Setting when already set causes glitches in Firefox, so check first:\n                if ( slideView.src !== slideSrc ) {\n                    slideView.src = slideSrc;\n                }\n                var preView = consoleWindow.document.getElementById( 'preView' );\n                if ( preView.src !== preSrc ) {\n                    preView.src = preSrc;\n                }\n\n                consoleWindow.document.getElementById( 'status' ).innerHTML =\n                    '<span  class=\"ready\">' + lang.ready + '</span>';\n            }\n        };\n\n        // Sync substeps\n        var onSubstep = function( event ) {\n            if ( consoleWindow ) {\n                if ( event.detail.reason === 'next' ) {\n                    onSubstepShow();\n                }\n                if ( event.detail.reason === 'prev' ) {\n                    onSubstepHide();\n                }\n            }\n        };\n\n        var onSubstepShow = function() {\n            var slideView = consoleWindow.document.getElementById( 'slideView' );\n            triggerEventInView( slideView, 'impress:substep:show' );\n        };\n\n        var onSubstepHide = function() {\n            var slideView = consoleWindow.document.getElementById( 'slideView' );\n            triggerEventInView( slideView, 'impress:substep:hide' );\n        };\n\n        var triggerEventInView = function( frame, eventName, detail ) {\n\n            // Note: Unfortunately Chrome does not allow createEvent on file:// URLs, so this won't\n            // work. This does work on Firefox, and should work if viewing the presentation on a\n            // http:// URL on Chrome.\n            var event = frame.contentDocument.createEvent( 'CustomEvent' );\n            event.initCustomEvent( eventName, true, true, detail );\n            frame.contentDocument.dispatchEvent( event );\n        };\n\n        var spaceHandler = function() {\n            var notes = consoleWindow.document.getElementById( 'notes' );\n            if ( notes.scrollTopMax - notes.scrollTop > 20 ) {\n               notes.scrollTop = notes.scrollTop + notes.clientHeight * 0.8;\n            } else {\n               window.impress().next();\n            }\n        };\n\n        var timerReset = function() {\n            consoleWindow.timerStart = new Date();\n        };\n\n        // Show a clock\n        var clockTick = function() {\n            var now = new Date();\n            var hours = now.getHours();\n            var minutes = now.getMinutes();\n            var seconds = now.getSeconds();\n            var ampm = '';\n\n            if ( lang.useAMPM ) {\n                ampm = ( hours < 12 ) ? 'AM' : 'PM';\n                hours = ( hours > 12 ) ? hours - 12 : hours;\n                hours = ( hours === 0 ) ? 12 : hours;\n            }\n\n            // Clock\n            var clockStr = zeroPad( hours ) + ':' + zeroPad( minutes ) + ':' + zeroPad( seconds ) +\n                           ' ' + ampm;\n            consoleWindow.document.getElementById( 'clock' ).firstChild.nodeValue = clockStr;\n\n            // Timer\n            seconds = Math.floor( ( now - consoleWindow.timerStart ) / 1000 );\n            minutes = Math.floor( seconds / 60 );\n            seconds = Math.floor( seconds % 60 );\n            consoleWindow.document.getElementById( 'timer' ).firstChild.nodeValue =\n                zeroPad( minutes ) + 'm ' + zeroPad( seconds ) + 's';\n\n            if ( !consoleWindow.initialized ) {\n\n                // Nudge the slide windows after load, or they will scrolled wrong on Firefox.\n                consoleWindow.document.getElementById( 'slideView' ).contentWindow.scrollTo( 0, 0 );\n                consoleWindow.document.getElementById( 'preView' ).contentWindow.scrollTo( 0, 0 );\n                consoleWindow.initialized = true;\n            }\n        };\n\n        var registerKeyEvent = function( keyCodes, handler, window ) {\n            if ( window === undefined ) {\n                window = consoleWindow;\n            }\n\n            // Prevent default keydown action when one of supported key is pressed\n            window.document.addEventListener( 'keydown', function( event ) {\n                if ( !event.ctrlKey && !event.altKey && !event.shiftKey && !event.metaKey &&\n                     keyCodes.indexOf( event.keyCode ) !== -1 ) {\n                    event.preventDefault();\n                }\n            }, false );\n\n            // Trigger impress action on keyup\n            window.document.addEventListener( 'keyup', function( event ) {\n                if ( !event.ctrlKey && !event.altKey && !event.shiftKey && !event.metaKey &&\n                     keyCodes.indexOf( event.keyCode ) !== -1 ) {\n                        handler();\n                        event.preventDefault();\n                }\n            }, false );\n        };\n\n        var consoleOnLoad = function() {\n                var slideView = consoleWindow.document.getElementById( 'slideView' );\n                var preView = consoleWindow.document.getElementById( 'preView' );\n\n                // Firefox:\n                slideView.contentDocument.body.classList.add( 'impress-console' );\n                preView.contentDocument.body.classList.add( 'impress-console' );\n                if ( cssFileIframe !== undefined ) {\n                    slideView.contentDocument.head.insertAdjacentHTML(\n                        'beforeend',\n                        '<link rel=\"stylesheet\" type=\"text/css\" href=\"' + cssFileIframe + '\">'\n                    );\n                    preView.contentDocument.head.insertAdjacentHTML(\n                        'beforeend',\n                        '<link rel=\"stylesheet\" type=\"text/css\" href=\"' + cssFileIframe + '\">'\n                    );\n                }\n\n                // Chrome:\n                slideView.addEventListener( 'load', function() {\n                        slideView.contentDocument.body.classList.add( 'impress-console' );\n                        if ( cssFileIframe !== undefined ) {\n                            slideView.contentDocument.head.insertAdjacentHTML(\n                                'beforeend',\n                                '<link rel=\"stylesheet\" type=\"text/css\" href=\"' +\n                                    cssFileIframe + '\">'\n                            );\n                        }\n                } );\n                preView.addEventListener( 'load', function() {\n                        preView.contentDocument.body.classList.add( 'impress-console' );\n                        if ( cssFileIframe !== undefined ) {\n                            preView.contentDocument.head.insertAdjacentHTML(\n                                'beforeend',\n                                '<link rel=\"stylesheet\" type=\"text/css\" href=\"' +\n                                    cssFileIframe + '\">' );\n                        }\n                } );\n        };\n\n        var open = function() {\n            if ( top.isconsoleWindow ) {\n                return;\n            }\n\n            if ( consoleWindow && !consoleWindow.closed ) {\n                consoleWindow.focus();\n            } else {\n                consoleWindow = window.open( '', 'impressConsole' );\n\n                // If opening failes this may be because the browser prevents this from\n                // not (or less) interactive JavaScript...\n                if ( consoleWindow == null ) {\n\n                    // ... so I add a button to klick.\n                    // workaround on firefox\n                    var message = document.createElement( 'div' );\n                    message.id = 'impress-console-button';\n                    message.style.position = 'fixed';\n                    message.style.left = 0;\n                    message.style.top = 0;\n                    message.style.right = 0;\n                    message.style.bottom = 0;\n                    message.style.backgroundColor = 'rgba(255, 255, 255, 0.9)';\n                    var clickStr = 'var x = document.getElementById(\\'impress-console-button\\');' +\n                                     'x.parentNode.removeChild(x);' +\n                                     'var r = document.getElementById(\\'' + rootId + '\\');' +\n                                     'impress(\\'' + rootId +\n                                     '\\').lib.util.triggerEvent(r, \\'impress:console:open\\', {})';\n                    var styleStr = 'margin: 25vh 25vw;width:50vw;height:50vh;';\n                    message.innerHTML = '<button style=\"' + styleStr + '\" ' +\n                                                 'onclick=\"' + clickStr + '\">' +\n                                        lang.clickToOpen +\n                                        '</button>';\n                    document.body.appendChild( message );\n                    return;\n                }\n\n                var cssLink = '';\n                if ( cssFile !== undefined ) {\n                    cssLink = '<link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"' +\n                              cssFile + '\">';\n                }\n\n                // This sets the window location to the main window location, so css can be loaded:\n                consoleWindow.document.open();\n\n                // Write the template:\n                consoleWindow.document.write(\n\n                    // CssStyleStr is lots of inline <style></style> defined at the end of this file\n                    consoleTemplate.replace( '{{cssStyle}}', cssStyleStr() )\n                                   .replace( '{{cssLink}}', cssLink )\n                                   .replace( /{{.*?}}/gi, function( x ) {\n                                       return lang[ x.substring( 2, x.length - 2 ) ]; }\n                                   )\n                );\n                consoleWindow.document.title = 'Speaker Console (' + document.title + ')';\n                consoleWindow.impress = window.impress;\n\n                // We set this flag so we can detect it later, to prevent infinite popups.\n                consoleWindow.isconsoleWindow = true;\n\n                // Set the onload function:\n                consoleWindow.onload = consoleOnLoad;\n\n                // Add clock tick\n                consoleWindow.timerStart = new Date();\n                consoleWindow.timerReset = timerReset;\n                consoleWindow.clockInterval = setInterval( allConsoles[ rootId ].clockTick, 1000 );\n\n                // Keyboard navigation handlers\n                // 33: pg up, 37: left, 38: up\n                registerKeyEvent( [ 33, 37, 38 ], window.impress().prev );\n\n                // 34: pg down, 39: right, 40: down\n                registerKeyEvent( [ 34, 39, 40 ], window.impress().next );\n\n                // 32: space\n                registerKeyEvent( [ 32 ], spaceHandler );\n\n                // 82: R\n                registerKeyEvent( [ 82 ], timerReset );\n\n                // Cleanup\n                consoleWindow.onbeforeunload = function() {\n\n                    // I don't know why onunload doesn't work here.\n                    clearInterval( consoleWindow.clockInterval );\n                };\n\n                // It will need a little nudge on Firefox, but only after loading:\n                onStepEnter();\n                consoleWindow.initialized = false;\n                consoleWindow.document.close();\n\n                //Catch any window resize to pass size on\n                window.onresize = resize;\n                consoleWindow.onresize = resize;\n\n                return consoleWindow;\n            }\n        };\n\n        var resize = function() {\n            var slideView = consoleWindow.document.getElementById( 'slideView' );\n            var preView = consoleWindow.document.getElementById( 'preView' );\n\n            // Get ratio of presentation\n            var ratio = window.innerHeight / window.innerWidth;\n\n            // Get size available for views\n            var views = consoleWindow.document.getElementById( 'views' );\n\n            // SlideView may have a border or some padding:\n            // asuming same border width on both direktions\n            var delta = slideView.offsetWidth - slideView.clientWidth;\n\n            // Set views\n            var slideViewWidth = ( views.clientWidth - delta );\n            var slideViewHeight = Math.floor( slideViewWidth * ratio );\n\n            var preViewTop = slideViewHeight + preViewGap;\n\n            var preViewWidth = Math.floor( slideViewWidth * preViewDefaultFactor );\n            var preViewHeight = Math.floor( slideViewHeight * preViewDefaultFactor );\n\n            // Shrink preview to fit into space available\n            if ( views.clientHeight - delta < preViewTop + preViewHeight ) {\n                preViewHeight = views.clientHeight - delta - preViewTop;\n                preViewWidth = Math.floor( preViewHeight / ratio );\n            }\n\n            // If preview is not high enough forget ratios!\n            if ( preViewWidth <= Math.floor( slideViewWidth * preViewMinimumFactor ) ) {\n                slideViewWidth = ( views.clientWidth - delta );\n                slideViewHeight = Math.floor( ( views.clientHeight - delta - preViewGap ) /\n                                             ( 1 + preViewMinimumFactor ) );\n\n                preViewTop = slideViewHeight + preViewGap;\n\n                preViewWidth = Math.floor( slideViewWidth * preViewMinimumFactor );\n                preViewHeight = views.clientHeight - delta - preViewTop;\n            }\n\n            // Set the calculated into styles\n            slideView.style.width = slideViewWidth + 'px';\n            slideView.style.height = slideViewHeight + 'px';\n\n            preView.style.top = preViewTop + 'px';\n\n            preView.style.width = preViewWidth + 'px';\n            preView.style.height = preViewHeight + 'px';\n        };\n\n        var _init = function( cssConsole, cssIframe ) {\n            if ( cssConsole !== undefined ) {\n                cssFile = cssConsole;\n            }\n\n            // You can also specify the css in the presentation root div:\n            // <div id=\"impress\" data-console-css=...\" data-console-css-iframe=\"...\">\n            else if ( root.dataset.consoleCss !== undefined ) {\n                cssFile = root.dataset.consoleCss;\n            }\n\n            if ( cssIframe !== undefined ) {\n                cssFileIframe = cssIframe;\n            } else if ( root.dataset.consoleCssIframe !== undefined ) {\n                cssFileIframe = root.dataset.consoleCssIframe;\n            }\n\n            // Register the event\n            root.addEventListener( 'impress:stepleave', onStepLeave );\n            root.addEventListener( 'impress:stepenter', onStepEnter );\n            root.addEventListener( 'impress:substep:stepleaveaborted', onSubstep );\n            root.addEventListener( 'impress:substep:show', onSubstepShow );\n            root.addEventListener( 'impress:substep:hide', onSubstepHide );\n\n            //When the window closes, clean up after ourselves.\n            window.onunload = function() {\n                if ( consoleWindow && !consoleWindow.closed ) {\n                    consoleWindow.close();\n                }\n            };\n\n            //Open speaker console when they press 'p'\n            registerKeyEvent( [ 80 ], open, window );\n\n            //Btw, you can also launch console automatically:\n            //<div id=\"impress\" data-console-autolaunch=\"true\">\n            if ( root.dataset.consoleAutolaunch === 'true' ) {\n                open();\n            }\n        };\n\n        var init = function( cssConsole, cssIframe ) {\n            if ( ( cssConsole === undefined || cssConsole === cssFileOldDefault ) &&\n                 ( cssIframe === undefined  || cssIframe === cssFileIframeOldDefault ) ) {\n                window.console.log( 'impressConsole().init() is deprecated. ' +\n                                   'impressConsole is now initialized automatically when you ' +\n                                   'call impress().init().' );\n            }\n            _init( cssConsole, cssIframe );\n        };\n\n        // New API for impress.js plugins is based on using events\n        root.addEventListener( 'impress:console:open', function() {\n            open();\n        } );\n\n        /**\n         * Register a key code to an event handler\n         *\n         * :param: event.detail.keyCodes    List of key codes\n         * :param: event.detail.handler     A function registered as the event handler\n         * :param: event.detail.window      The console window to register the keycode in\n         */\n        root.addEventListener( 'impress:console:registerKeyEvent', function( event ) {\n            registerKeyEvent( event.detail.keyCodes, event.detail.handler, event.detail.window );\n        } );\n\n        // Return the object\n        allConsoles[ rootId ] = { init: init, open: open, clockTick: clockTick,\n                               registerKeyEvent: registerKeyEvent, _init: _init };\n        return allConsoles[ rootId ];\n\n    };\n\n    // This initializes impressConsole automatically when initializing impress itself\n    document.addEventListener( 'impress:init', function( event ) {\n\n        // Note: impressConsole wants the id string, not the DOM element directly\n        impressConsole( event.target.id )._init();\n\n        // Add 'P' to the help popup\n        triggerEvent( document, 'impress:help:add',\n                        { command: 'P', text: 'Presenter console', row: 10 } );\n    } );\n\n    // Returns a string to be used inline as a css <style> element in the console window.\n    // Apologies for length, but hiding it here at the end to keep it away from rest of the code.\n    var cssStyleStr = function() {\n        return `<style>\n            #impressconsole body {\n                background-color: rgb(255, 255, 255);\n                padding: 0;\n                margin: 0;\n                font-family: verdana, arial, sans-serif;\n                font-size: 2vw;\n            }\n\n            #impressconsole div#console {\n                position: absolute;\n                top: 0.5vw;\n                left: 0.5vw;\n                right: 0.5vw;\n                bottom: 3vw;\n                margin: 0;\n            }\n\n            #impressconsole div#views, #impressconsole div#notes {\n                position: absolute;\n                top: 0;\n                bottom: 0;\n            }\n\n            #impressconsole div#views {\n                left: 0;\n                right: 50vw;\n                overflow: hidden;\n            }\n\n            #impressconsole div#blocker {\n                position: absolute;\n                right: 0;\n                bottom: 0;\n            }\n\n            #impressconsole div#notes {\n                left: 50vw;\n                right: 0;\n                overflow-x: hidden;\n                overflow-y: auto;\n                padding: 0.3ex;\n                background-color: rgb(255, 255, 255);\n                border: solid 1px rgb(120, 120, 120);\n            }\n\n            #impressconsole div#notes .noNotes {\n                color: rgb(200, 200, 200);\n            }\n\n            #impressconsole div#notes p {\n                margin-top: 0;\n            }\n\n            #impressconsole iframe {\n                position: absolute;\n                margin: 0;\n                padding: 0;\n                left: 0;\n                border: solid 1px rgb(120, 120, 120);\n            }\n\n            #impressconsole iframe#slideView {\n                top: 0;\n                width: 49vw;\n                height: 49vh;\n            }\n\n            #impressconsole iframe#preView {\n                opacity: 0.7;\n                top: 50vh;\n                width: 30vw;\n                height: 30vh;\n            }\n\n            #impressconsole div#controls {\n                margin: 0;\n                position: absolute;\n                bottom: 0.25vw;\n                left: 0.5vw;\n                right: 0.5vw;\n                height: 2.5vw;\n                background-color: rgb(255, 255, 255);\n                background-color: rgba(255, 255, 255, 0.6);\n            }\n\n            #impressconsole div#prev, div#next {\n            }\n\n            #impressconsole div#prev a, #impressconsole div#next a {\n                display: block;\n                border: solid 1px rgb(70, 70, 70);\n                border-radius: 0.5vw;\n                font-size: 1.5vw;\n                padding: 0.25vw;\n                text-decoration: none;\n                background-color: rgb(220, 220, 220);\n                color: rgb(0, 0, 0);\n            }\n\n            #impressconsole div#prev a:hover, #impressconsole div#next a:hover {\n                background-color: rgb(245, 245, 245);\n            }\n\n            #impressconsole div#prev {\n                float: left;\n            }\n\n            #impressconsole div#next {\n                float: right;\n            }\n\n            #impressconsole div#status {\n                margin-left: 2em;\n                margin-right: 2em;\n                text-align: center;\n                float: right;\n            }\n\n            #impressconsole div#clock {\n                margin-left: 2em;\n                margin-right: 2em;\n                text-align: center;\n                float: left;\n            }\n\n            #impressconsole div#timer {\n                margin-left: 2em;\n                margin-right: 2em;\n                text-align: center;\n                float: left;\n            }\n\n            #impressconsole span.moving {\n                color: rgb(255, 0, 0);\n            }\n\n            #impressconsole span.ready {\n                color: rgb(0, 128, 0);\n            }\n        </style>`;\n    };\n\n} )( document, window );\n\n/**\n * Media Plugin\n *\n * This plugin will do the following things:\n *\n *  - Add a special class when playing (body.impress-media-video-playing\n *    and body.impress-media-video-playing) and pausing media (body.impress-media-video-paused\n *    and body.impress-media-audio-paused) (removing them when ending).\n *    This can be useful for example for darkening the background or fading out other elements\n *    while a video is playing.\n *    Only media at the current step are taken into account. All classes are removed when leaving\n *    a step.\n *\n *  - Introduce the following new data attributes:\n *\n *    - data-media-autoplay=\"true\": Autostart media when entering its step.\n *    - data-media-autostop=\"true\": Stop media (= pause and reset to start), when leaving its\n *      step.\n *    - data-media-autopause=\"true\": Pause media but keep current time when leaving its step.\n *\n *    When these attributes are added to a step they are inherited by all media on this step.\n *    Of course this setting can be overwritten by adding different attributes to inidvidual\n *    media.\n *\n *    The same rule applies when this attributes is added to the root element. Settings can be\n *    overwritten for individual steps and media.\n *\n *    Examples:\n *    - data-media-autoplay=\"true\" data-media-autostop=\"true\": start media on enter, stop on\n *      leave, restart from beginning when re-entering the step.\n *\n *    - data-media-autoplay=\"true\" data-media-autopause=\"true\": start media on enter, pause on\n *      leave, resume on re-enter\n *\n *    - data-media-autoplay=\"true\" data-media-autostop=\"true\" data-media-autopause=\"true\": start\n *      media on enter, stop on leave (stop overwrites pause).\n *\n *    - data-media-autoplay=\"true\" data-media-autopause=\"false\": let media start automatically\n *      when entering a step and let it play when leaving the step.\n *\n *    - <div id=\"impress\" data-media-autoplay=\"true\"> ... <div class=\"step\"\n *      data-media-autoplay=\"false\">\n *      All media is startet automatically on all steps except the one that has the\n *      data-media-autoplay=\"false\" attribute.\n *\n *  - Pro tip: Use <audio onended=\"impress().next()\"> or <video onended=\"impress().next()\"> to\n *    proceed to the next step automatically, when the end of the media is reached.\n *\n *\n * Copyright 2018 Holger Teichert (@complanar)\n * Released under the MIT license.\n */\n/* global window, document */\n\n( function( document, window ) {\n    \"use strict\";\n    var root, api, gc, attributeTracker;\n\n    attributeTracker = [];\n\n    // Function names\n    var enhanceMediaNodes,\n        enhanceMedia,\n        removeMediaClasses,\n        onStepenterDetectImpressConsole,\n        onStepenter,\n        onStepleave,\n        onPlay,\n        onPause,\n        onEnded,\n        getMediaAttribute,\n        teardown;\n\n    document.addEventListener( \"impress:init\", function( event ) {\n        root = event.target;\n        api = event.detail.api;\n        gc = api.lib.gc;\n\n        enhanceMedia();\n\n        gc.pushCallback( teardown );\n    }, false );\n\n    teardown = function() {\n        var el, i;\n        removeMediaClasses();\n        for ( i = 0; i < attributeTracker.length; i += 1 ) {\n            el = attributeTracker[ i ];\n            el.node.removeAttribute( el.attr );\n        }\n        attributeTracker = [];\n    };\n\n    getMediaAttribute = function( attributeName, nodes ) {\n        var attrName, attrValue, i, node;\n        attrName = \"data-media-\" + attributeName;\n\n        // Look for attributes in all nodes\n        for ( i = 0; i < nodes.length; i += 1 ) {\n            node = nodes[ i ];\n\n            // First test, if the attribute exists, because some browsers may return\n            // an empty string for non-existing attributes - specs are not clear at that point\n            if ( node.hasAttribute( attrName ) ) {\n\n                // Attribute found, return their parsed boolean value, empty strings count as true\n                // to enable empty value booleans (common in html5 but not allowed in well formed\n                // xml).\n                attrValue = node.getAttribute( attrName );\n                if ( attrValue === \"\" || attrValue === \"true\" ) {\n                    return true;\n                } else {\n                    return false;\n                }\n            }\n\n            // No attribute found at current node, proceed with next round\n        }\n\n        // Last resort: no attribute found - return undefined to distiguish from false\n        return undefined;\n    };\n\n    onPlay = function( event ) {\n        var type = event.target.nodeName.toLowerCase();\n        document.body.classList.add( \"impress-media-\" + type + \"-playing\" );\n        document.body.classList.remove( \"impress-media-\" + type + \"-paused\" );\n    };\n\n    onPause = function( event ) {\n        var type = event.target.nodeName.toLowerCase();\n        document.body.classList.add( \"impress-media-\" + type + \"-paused\" );\n        document.body.classList.remove( \"impress-media-\" + type + \"-playing\" );\n    };\n\n    onEnded = function( event ) {\n        var type = event.target.nodeName.toLowerCase();\n        document.body.classList.remove( \"impress-media-\" + type + \"-playing\" );\n        document.body.classList.remove( \"impress-media-\" + type + \"-paused\" );\n    };\n\n    removeMediaClasses = function() {\n        var type, types;\n        types = [ \"video\", \"audio\" ];\n        for ( type in types ) {\n            document.body.classList.remove( \"impress-media-\" + types[ type ] + \"-playing\" );\n            document.body.classList.remove( \"impress-media-\" + types[ type ] + \"-paused\" );\n        }\n    };\n\n    enhanceMediaNodes = function() {\n        var i, id, media, mediaElement, type;\n\n        media = root.querySelectorAll( \"audio, video\" );\n        for ( i = 0; i < media.length; i += 1 ) {\n            type = media[ i ].nodeName.toLowerCase();\n\n            // Set an id to identify each media node - used e.g. for cross references by\n            // the consoleMedia plugin\n            mediaElement = media[ i ];\n            id = mediaElement.getAttribute( \"id\" );\n            if ( id === undefined || id === null ) {\n                mediaElement.setAttribute( \"id\", \"media-\" + type + \"-\" + i );\n                attributeTracker.push( { \"node\": mediaElement, \"attr\": \"id\" } );\n            }\n            gc.addEventListener( mediaElement, \"play\", onPlay );\n            gc.addEventListener( mediaElement, \"playing\", onPlay );\n            gc.addEventListener( mediaElement, \"pause\", onPause );\n            gc.addEventListener( mediaElement, \"ended\", onEnded );\n        }\n    };\n\n    enhanceMedia = function() {\n        var steps, stepElement, i;\n        enhanceMediaNodes();\n        steps = document.getElementsByClassName( \"step\" );\n        for ( i = 0; i < steps.length; i += 1 ) {\n            stepElement = steps[ i ];\n\n            gc.addEventListener( stepElement, \"impress:stepenter\", onStepenter );\n            gc.addEventListener( stepElement, \"impress:stepleave\", onStepleave );\n        }\n    };\n\n    onStepenterDetectImpressConsole = function() {\n        return {\n            \"preview\": ( window.frameElement !== null && window.frameElement.id === \"preView\" ),\n            \"slideView\": ( window.frameElement !== null && window.frameElement.id === \"slideView\" )\n        };\n    };\n\n    onStepenter = function( event ) {\n        var stepElement, media, mediaElement, i, onConsole, autoplay;\n        if ( ( !event ) || ( !event.target ) ) {\n            return;\n        }\n\n        stepElement = event.target;\n        removeMediaClasses();\n\n        media = stepElement.querySelectorAll( \"audio, video\" );\n        for ( i = 0; i < media.length; i += 1 ) {\n            mediaElement = media[ i ];\n\n            // Autoplay when (maybe inherited) autoplay setting is true,\n            // but only if not on preview of the next step in impressConsole\n            onConsole = onStepenterDetectImpressConsole();\n            autoplay = getMediaAttribute( \"autoplay\", [ mediaElement, stepElement, root ] );\n            if ( autoplay && !onConsole.preview ) {\n                if ( onConsole.slideView ) {\n                    mediaElement.muted = true;\n                }\n                mediaElement.play();\n            }\n        }\n    };\n\n    onStepleave = function( event ) {\n        var stepElement, media, i, mediaElement, autoplay, autopause, autostop;\n        if ( ( !event || !event.target ) ) {\n            return;\n        }\n\n        stepElement = event.target;\n        media = event.target.querySelectorAll( \"audio, video\" );\n        for ( i = 0; i < media.length; i += 1 ) {\n            mediaElement = media[ i ];\n\n            autoplay = getMediaAttribute( \"autoplay\", [ mediaElement, stepElement, root ] );\n            autopause = getMediaAttribute( \"autopause\", [ mediaElement, stepElement, root ] );\n            autostop = getMediaAttribute( \"autostop\",  [ mediaElement, stepElement, root ] );\n\n            // If both autostop and autopause are undefined, set it to the value of autoplay\n            if ( autostop === undefined && autopause === undefined ) {\n                autostop = autoplay;\n            }\n\n            if ( autopause || autostop ) {\n                mediaElement.pause();\n                if ( autostop ) {\n                    mediaElement.currentTime = 0;\n                }\n            }\n        }\n        removeMediaClasses();\n    };\n\n} )( document, window );\n\n/**\n * Mobile devices support\n *\n * Allow presentation creators to hide all but 3 slides, to save resources, particularly on mobile\n * devices, using classes body.impress-mobile, .step.prev, .step.active and .step.next.\n *\n * Note: This plugin does not take into account possible redirections done with skip, goto etc\n * plugins. Basically it wouldn't work as intended in such cases, but the active step will at least\n * be correct.\n *\n * Adapted to a plugin from a submission by @Kzeni:\n * https://github.com/impress/impress.js/issues/333\n */\n/* global document, navigator */\n( function( document ) {\n    \"use strict\";\n\n    var getNextStep = function( el ) {\n        var steps = document.querySelectorAll( \".step\" );\n        for ( var i = 0; i < steps.length; i++ ) {\n            if ( steps[ i ] === el ) {\n                if ( i + 1 < steps.length ) {\n                    return steps[ i + 1 ];\n                } else {\n                    return steps[ 0 ];\n                }\n            }\n        }\n    };\n    var getPrevStep = function( el ) {\n        var steps = document.querySelectorAll( \".step\" );\n        for ( var i = steps.length - 1; i >= 0; i-- ) {\n            if ( steps[ i ] === el ) {\n                if ( i - 1 >= 0 ) {\n                    return steps[ i - 1 ];\n                } else {\n                    return steps[ steps.length - 1 ];\n                }\n            }\n        }\n    };\n\n    // Detect mobile browsers & add CSS class as appropriate.\n    document.addEventListener( \"impress:init\", function( event ) {\n        var body = document.body;\n        if ( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n                 navigator.userAgent\n             ) ) {\n            body.classList.add( \"impress-mobile\" );\n        }\n\n        // Unset all this on teardown\n        var api = event.detail.api;\n        api.lib.gc.pushCallback( function() {\n            document.body.classList.remove( \"impress-mobile\" );\n            var prev = document.getElementsByClassName( \"prev\" )[ 0 ];\n            var next = document.getElementsByClassName( \"next\" )[ 0 ];\n            if ( typeof prev !== \"undefined\" ) {\n                prev.classList.remove( \"prev\" );\n            }\n            if ( typeof next !== \"undefined\" ) {\n                next.classList.remove( \"next\" );\n            }\n        } );\n    } );\n\n    // Add prev and next classes to the siblings of the newly entered active step element\n    // Remove prev and next classes from their current step elements\n    // Note: As an exception we break namespacing rules, as these are useful general purpose\n    // classes. (Naming rules would require us to use css classes mobile-next and mobile-prev,\n    // based on plugin name.)\n    document.addEventListener( \"impress:stepenter\", function( event ) {\n\t      var oldprev = document.getElementsByClassName( \"prev\" )[ 0 ];\n\t      var oldnext = document.getElementsByClassName( \"next\" )[ 0 ];\n\n\t      var prev = getPrevStep( event.target );\n\t      prev.classList.add( \"prev\" );\n\t      var next = getNextStep( event.target );\n\t      next.classList.add( \"next\" );\n\n\t      if ( typeof oldprev !== \"undefined\" ) {\n\t\t      oldprev.classList.remove( \"prev\" );\n              }\n\t      if ( typeof oldnext !== \"undefined\" ) {\n\t\t      oldnext.classList.remove( \"next\" );\n              }\n    } );\n} )( document );\n\n\n/**\n * Mouse timeout plugin\n *\n * After 3 seconds of mouse inactivity, add the css class\n * `body.impress-mouse-timeout`. On `mousemove`, `click` or `touch`, remove the\n * class.\n *\n * The use case for this plugin is to use CSS to hide elements from the screen\n * and only make them visible when the mouse is moved. Examples where this\n * might be used are: the toolbar from the toolbar plugin, and the mouse cursor\n * itself.\n *\n * Example CSS:\n *\n *     body.impress-mouse-timeout {\n *         cursor: none;\n *     }\n *     body.impress-mouse-timeout div#impress-toolbar {\n *         display: none;\n *     }\n *\n *\n * Copyright 2016 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n/* global window, document */\n( function( document, window ) {\n    \"use strict\";\n    var timeout = 3;\n    var timeoutHandle;\n\n    var hide = function() {\n\n        // Mouse is now inactive\n        document.body.classList.add( \"impress-mouse-timeout\" );\n    };\n\n    var show = function() {\n        if ( timeoutHandle ) {\n            window.clearTimeout( timeoutHandle );\n        }\n\n        // Mouse is now active\n        document.body.classList.remove( \"impress-mouse-timeout\" );\n\n        // Then set new timeout after which it is considered inactive again\n        timeoutHandle = window.setTimeout( hide, timeout * 1000 );\n    };\n\n    document.addEventListener( \"impress:init\", function( event ) {\n        var api = event.detail.api;\n        var gc = api.lib.gc;\n        gc.addEventListener( document, \"mousemove\", show );\n        gc.addEventListener( document, \"click\", show );\n        gc.addEventListener( document, \"touch\", show );\n\n        // Set first timeout\n        show();\n\n        // Unset all this on teardown\n        gc.pushCallback( function() {\n            window.clearTimeout( timeoutHandle );\n            document.body.classList.remove( \"impress-mouse-timeout\" );\n        } );\n    }, false );\n\n} )( document, window );\n\n/**\n * Navigation events plugin\n *\n * As you can see this part is separate from the impress.js core code.\n * It's because these navigation actions only need what impress.js provides with\n * its simple API.\n *\n * This plugin is what we call an _init plugin_. It's a simple kind of\n * impress.js plugin. When loaded, it starts listening to the `impress:init`\n * event. That event listener initializes the plugin functionality - in this\n * case we listen to some keypress and mouse events. The only dependencies on\n * core impress.js functionality is the `impress:init` method, as well as using\n * the public api `next(), prev(),` etc when keys are pressed.\n *\n * Copyright 2011-2012 Bartek Szopka (@bartaz)\n * Released under the MIT license.\n * ------------------------------------------------\n *  author:  Bartek Szopka\n *  version: 0.5.3\n *  url:     http://bartaz.github.com/impress.js/\n *  source:  http://github.com/bartaz/impress.js/\n *\n */\n/* global document */\n( function( document ) {\n    \"use strict\";\n\n    // Wait for impress.js to be initialized\n    document.addEventListener( \"impress:init\", function( event ) {\n\n        // Getting API from event data.\n        // So you don't event need to know what is the id of the root element\n        // or anything. `impress:init` event data gives you everything you\n        // need to control the presentation that was just initialized.\n        var api = event.detail.api;\n        var gc = api.lib.gc;\n        var util = api.lib.util;\n\n        // Supported keys are:\n        // [space] - quite common in presentation software to move forward\n        // [up] [right] / [down] [left] - again common and natural addition,\n        // [pgdown] / [pgup] - often triggered by remote controllers,\n        // [tab] - this one is quite controversial, but the reason it ended up on\n        //   this list is quite an interesting story... Remember that strange part\n        //   in the impress.js code where window is scrolled to 0,0 on every presentation\n        //   step, because sometimes browser scrolls viewport because of the focused element?\n        //   Well, the [tab] key by default navigates around focusable elements, so clicking\n        //   it very often caused scrolling to focused element and breaking impress.js\n        //   positioning. I didn't want to just prevent this default action, so I used [tab]\n        //   as another way to moving to next step... And yes, I know that for the sake of\n        //   consistency I should add [shift+tab] as opposite action...\n        var isNavigationEvent = function( event ) {\n\n            // Don't trigger navigation for example when user returns to browser window with ALT+TAB\n            if ( event.altKey || event.ctrlKey || event.metaKey ) {\n                return false;\n            }\n\n            // In the case of TAB, we force step navigation always, overriding the browser\n            // navigation between input elements, buttons and links.\n            if ( event.keyCode === 9 ) {\n                return true;\n            }\n\n            // With the sole exception of TAB, we also ignore keys pressed if shift is down.\n            if ( event.shiftKey ) {\n                return false;\n            }\n\n            if ( ( event.keyCode >= 32 && event.keyCode <= 34 ) ||\n                 ( event.keyCode >= 37 && event.keyCode <= 40 ) ) {\n                return true;\n            }\n        };\n\n        // KEYBOARD NAVIGATION HANDLERS\n\n        // Prevent default keydown action when one of supported key is pressed.\n        gc.addEventListener( document, \"keydown\", function( event ) {\n            if ( isNavigationEvent( event ) ) {\n                event.preventDefault();\n            }\n        }, false );\n\n        // Trigger impress action (next or prev) on keyup.\n        gc.addEventListener( document, \"keyup\", function( event ) {\n            if ( isNavigationEvent( event ) ) {\n                if ( event.shiftKey ) {\n                    switch ( event.keyCode ) {\n                        case 9: // Shift+tab\n                            api.prev();\n                            break;\n                    }\n                } else {\n                    switch ( event.keyCode ) {\n                        case 33: // Pg up\n                        case 37: // Left\n                        case 38: // Up\n                                 api.prev( event );\n                                 break;\n                        case 9:  // Tab\n                        case 32: // Space\n                        case 34: // Pg down\n                        case 39: // Right\n                        case 40: // Down\n                                 api.next( event );\n                                 break;\n                    }\n                }\n                event.preventDefault();\n            }\n        }, false );\n\n        // Delegated handler for clicking on the links to presentation steps\n        gc.addEventListener( document, \"click\", function( event ) {\n\n            // Event delegation with \"bubbling\"\n            // check if event target (or any of its parents is a link)\n            var target = event.target;\n            try {\n                while ( ( target.tagName !== \"A\" ) &&\n                        ( target !== document.documentElement ) ) {\n                    target = target.parentNode;\n                }\n\n                if ( target.tagName === \"A\" ) {\n                    var href = target.getAttribute( \"href\" );\n\n                    // If it's a link to presentation step, target this step\n                    if ( href && href[ 0 ] === \"#\" ) {\n                        target = document.getElementById( href.slice( 1 ) );\n                    }\n                }\n\n                if ( api.goto( target ) ) {\n                    event.stopImmediatePropagation();\n                    event.preventDefault();\n                }\n            }\n            catch ( err ) {\n\n                // For example, when clicking on the button to launch speaker console, the button\n                // is immediately deleted from the DOM. In this case target is a DOM element when\n                // we get it, but turns out to be null if you try to actually do anything with it.\n                if ( err instanceof TypeError &&\n                     err.message === \"target is null\" ) {\n                    return;\n                }\n                throw err;\n            }\n        }, false );\n\n        // Delegated handler for clicking on step elements\n        gc.addEventListener( document, \"click\", function( event ) {\n            var target = event.target;\n            try {\n\n                // Find closest step element that is not active\n                while ( !( target.classList.contains( \"step\" ) &&\n                        !target.classList.contains( \"active\" ) ) &&\n                        ( target !== document.documentElement ) ) {\n                    target = target.parentNode;\n                }\n\n                if ( api.goto( target ) ) {\n                    event.preventDefault();\n                }\n            }\n            catch ( err ) {\n\n                // For example, when clicking on the button to launch speaker console, the button\n                // is immediately deleted from the DOM. In this case target is a DOM element when\n                // we get it, but turns out to be null if you try to actually do anything with it.\n                if ( err instanceof TypeError &&\n                     err.message === \"target is null\" ) {\n                    return;\n                }\n                throw err;\n            }\n        }, false );\n\n        // Add a line to the help popup\n        util.triggerEvent( document, \"impress:help:add\", { command: \"Left &amp; Right\",\n                                                           text: \"Previous &amp; Next step\",\n                                                           row: 1 } );\n\n    }, false );\n\n} )( document );\n\n\n/**\n * Navigation UI plugin\n *\n * This plugin provides UI elements \"back\", \"forward\" and a list to select\n * a specific slide number.\n *\n * The navigation controls are added to the toolbar plugin via DOM events. User must enable the\n * toolbar in a presentation to have them visible.\n *\n * Copyright 2016 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n\n// This file contains so much HTML, that we will just respectfully disagree about js\n/* jshint quotmark:single */\n/* global document */\n\n( function( document ) {\n    'use strict';\n    var toolbar;\n    var api;\n    var root;\n    var steps;\n    var hideSteps = [];\n    var prev;\n    var select;\n    var next;\n\n    var triggerEvent = function( el, eventName, detail ) {\n        var event = document.createEvent( 'CustomEvent' );\n        event.initCustomEvent( eventName, true, true, detail );\n        el.dispatchEvent( event );\n    };\n\n    var makeDomElement = function( html ) {\n        var tempDiv = document.createElement( 'div' );\n        tempDiv.innerHTML = html;\n        return tempDiv.firstChild;\n    };\n\n    var selectOptionsHtml = function() {\n        var options = '';\n        for ( var i = 0; i < steps.length; i++ ) {\n\n            // Omit steps that are listed as hidden from select widget\n            if ( hideSteps.indexOf( steps[ i ] ) < 0 ) {\n                options = options + '<option value=\"' + steps[ i ].id + '\">' + // jshint ignore:line\n                                    steps[ i ].id + '</option>' + '\\n'; // jshint ignore:line\n            }\n        }\n        return options;\n    };\n\n    var addNavigationControls = function( event ) {\n        api = event.detail.api;\n        var gc = api.lib.gc;\n        root = event.target;\n        steps = root.querySelectorAll( '.step' );\n\n        var prevHtml   = '<button id=\"impress-navigation-ui-prev\" title=\"Previous\" ' +\n                         'class=\"impress-navigation-ui\">&lt;</button>';\n        var selectHtml = '<select id=\"impress-navigation-ui-select\" title=\"Go to\" ' +\n                         'class=\"impress-navigation-ui\">' + '\\n' +\n                           selectOptionsHtml() +\n                           '</select>';\n        var nextHtml   = '<button id=\"impress-navigation-ui-next\" title=\"Next\" ' +\n                         'class=\"impress-navigation-ui\">&gt;</button>';\n\n        prev = makeDomElement( prevHtml );\n        prev.addEventListener( 'click',\n            function() {\n                api.prev();\n        } );\n        select = makeDomElement( selectHtml );\n        select.addEventListener( 'change',\n            function( event ) {\n                api.goto( event.target.value );\n        } );\n        gc.addEventListener( root, 'impress:steprefresh', function( event ) {\n\n            // As impress.js core now allows to dynamically edit the steps, including adding,\n            // removing, and reordering steps, we need to requery and redraw the select list on\n            // every stepenter event.\n            steps = root.querySelectorAll( '.step' );\n            select.innerHTML = '\\n' + selectOptionsHtml();\n\n            // Make sure the list always shows the step we're actually on, even if it wasn't\n            // selected from the list\n            select.value = event.target.id;\n        } );\n        next = makeDomElement( nextHtml );\n        next.addEventListener( 'click',\n            function() {\n                api.next();\n        } );\n\n        triggerEvent( toolbar, 'impress:toolbar:appendChild', { group: 0, element: prev } );\n        triggerEvent( toolbar, 'impress:toolbar:appendChild', { group: 0, element: select } );\n        triggerEvent( toolbar, 'impress:toolbar:appendChild', { group: 0, element: next } );\n\n    };\n\n    // API for not listing given step in the select widget.\n    // For example, if you set class=\"skip\" on some element, you may not want it to show up in the\n    // list either. Otoh we cannot assume that, or anything else, so steps that user wants omitted\n    // must be specifically added with this API call.\n    document.addEventListener( 'impress:navigation-ui:hideStep', function( event ) {\n        hideSteps.push( event.target );\n        if ( select ) {\n            select.innerHTML = selectOptionsHtml();\n        }\n    }, false );\n\n    // Wait for impress.js to be initialized\n    document.addEventListener( 'impress:init', function( event ) {\n        toolbar = document.querySelector( '#impress-toolbar' );\n        if ( toolbar ) {\n            addNavigationControls( event );\n        }\n    }, false );\n\n} )( document );\n\n\n/* global document */\n( function( document ) {\n    \"use strict\";\n    var root;\n    var stepids = [];\n\n    // Get stepids from the steps under impress root\n    var getSteps = function() {\n        stepids = [];\n        var steps = root.querySelectorAll( \".step\" );\n        for ( var i = 0; i < steps.length; i++ )\n        {\n          stepids[ i + 1 ] = steps[ i ].id;\n        }\n        };\n\n    // Wait for impress.js to be initialized\n    document.addEventListener( \"impress:init\", function( event ) {\n            root = event.target;\n        getSteps();\n        var gc = event.detail.api.lib.gc;\n        gc.pushCallback( function() {\n            stepids = [];\n            if ( progressbar ) {\n                progressbar.style.width = \"\";\n                        }\n            if ( progress ) {\n                progress.innerHTML = \"\";\n                        }\n        } );\n    } );\n\n    var progressbar = document.querySelector( \"div.impress-progressbar div\" );\n    var progress = document.querySelector( \"div.impress-progress\" );\n\n    if ( null !== progressbar || null !== progress ) {\n        document.addEventListener( \"impress:stepleave\", function( event ) {\n            updateProgressbar( event.detail.next.id );\n        } );\n\n        document.addEventListener( \"impress:steprefresh\", function( event ) {\n            getSteps();\n            updateProgressbar( event.target.id );\n        } );\n\n    }\n\n    function updateProgressbar( slideId ) {\n        var slideNumber = stepids.indexOf( slideId );\n        if ( null !== progressbar ) {\n                        var width = 100 / ( stepids.length - 1 ) * ( slideNumber );\n            progressbar.style.width = width.toFixed( 2 ) + \"%\";\n        }\n        if ( null !== progress ) {\n            progress.innerHTML = slideNumber + \"/\" + ( stepids.length - 1 );\n        }\n    }\n} )( document );\n\n/**\n * Relative Positioning Plugin\n *\n * This plugin provides support for defining the coordinates of a step relative\n * to the previous step. This is often more convenient when creating presentations,\n * since as you add, remove or move steps, you may not need to edit the positions\n * as much as is the case with the absolute coordinates supported by impress.js\n * core.\n *\n * Example:\n *\n *         <!-- Position step 1000 px to the right and 500 px up from the previous step. -->\n *         <div class=\"step\" data-rel-x=\"1000\" data-rel-y=\"500\">\n *\n * Following html attributes are supported for step elements:\n *\n *     data-rel-x\n *     data-rel-y\n *     data-rel-z\n *\n * These values are also inherited from the previous step. This makes it easy to\n * create a boring presentation where each slide shifts for example 1000px down\n * from the previous.\n *\n * In addition to plain numbers, which are pixel values, it is also possible to\n * define relative positions as a multiple of screen height and width, using\n * a unit of \"h\" and \"w\", respectively, appended to the number.\n *\n * Example:\n *\n *        <div class=\"step\" data-rel-x=\"1.5w\" data-rel-y=\"1.5h\">\n *\n * This plugin is a *pre-init plugin*. It is called synchronously from impress.js\n * core at the beginning of `impress().init()`. This allows it to process its own\n * data attributes first, and possibly alter the data-x, data-y and data-z attributes\n * that will then be processed by `impress().init()`.\n *\n * (Another name for this kind of plugin might be called a *filter plugin*, but\n * *pre-init plugin* is more generic, as a plugin might do whatever it wants in\n * the pre-init stage.)\n *\n * Copyright 2016 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n\n/* global document, window */\n\n( function( document, window ) {\n    \"use strict\";\n\n    var startingState = {};\n\n    /**\n     * Copied from core impress.js. We currently lack a library mechanism to\n     * to share utility functions like this.\n     */\n    var toNumber = function( numeric, fallback ) {\n        return isNaN( numeric ) ? ( fallback || 0 ) : Number( numeric );\n    };\n\n    /**\n     * Extends toNumber() to correctly compute also relative-to-screen-size values 5w and 5h.\n     *\n     * Returns the computed value in pixels with w/h postfix removed.\n     */\n    var toNumberAdvanced = function( numeric, fallback ) {\n        if ( typeof numeric !== \"string\" ) {\n            return toNumber( numeric, fallback );\n        }\n        var ratio = numeric.match( /^([+-]*[\\d\\.]+)([wh])$/ );\n        if ( ratio == null ) {\n            return toNumber( numeric, fallback );\n        } else {\n            var value = parseFloat( ratio[ 1 ] );\n            var multiplier = ratio[ 2 ] === \"w\" ? window.innerWidth : window.innerHeight;\n            return value * multiplier;\n        }\n    };\n\n    var computeRelativePositions = function( el, prev ) {\n        var data = el.dataset;\n\n        if ( !prev ) {\n\n            // For the first step, inherit these defaults\n            prev = { x:0, y:0, z:0, relative: { x:0, y:0, z:0 } };\n        }\n\n        if ( data.relTo ) {\n\n            var ref = document.getElementById( data.relTo );\n            if ( ref ) {\n\n                // Test, if it is a previous step that already has some assigned position data\n                if ( el.compareDocumentPosition( ref ) & Node.DOCUMENT_POSITION_PRECEDING ) {\n                    prev.x = toNumber( ref.getAttribute( \"data-x\" ) );\n                    prev.y = toNumber( ref.getAttribute( \"data-y\" ) );\n                    prev.z = toNumber( ref.getAttribute( \"data-z\" ) );\n                    prev.relative = {};\n                } else {\n                    window.console.error(\n                        \"impress.js rel plugin: Step \\\"\" + data.relTo + \"\\\" is not defined \" +\n                        \"*before* the current step. Referencing is limited to previously defined \" +\n                        \"steps. Please check your markup. Ignoring data-rel-to attribute of \" +\n                        \"this step. Have a look at the documentation for how to create relative \" +\n                        \"positioning to later shown steps with the help of the goto plugin.\"\n                    );\n                }\n            } else {\n\n                // Step not found\n                window.console.warn(\n                    \"impress.js rel plugin: \\\"\" + data.relTo + \"\\\" is not a valid step in this \" +\n                    \"impress.js presentation. Please check your markup. Ignoring data-rel-to \" +\n                    \"attribute of this step.\"\n                );\n            }\n        }\n\n        var step = {\n                x: toNumber( data.x, prev.x ),\n                y: toNumber( data.y, prev.y ),\n                z: toNumber( data.z, prev.z ),\n                relative: {\n                    x: toNumberAdvanced( data.relX, prev.relative.x ),\n                    y: toNumberAdvanced( data.relY, prev.relative.y ),\n                    z: toNumberAdvanced( data.relZ, prev.relative.z )\n                }\n            };\n\n        // Relative position is ignored/zero if absolute is given.\n        // Note that this also has the effect of resetting any inherited relative values.\n        if ( data.x !== undefined ) {\n            step.relative.x = 0;\n        }\n        if ( data.y !== undefined ) {\n            step.relative.y = 0;\n        }\n        if ( data.z !== undefined ) {\n            step.relative.z = 0;\n        }\n\n        // Apply relative position to absolute position, if non-zero\n        // Note that at this point, the relative values contain a number value of pixels.\n        step.x = step.x + step.relative.x;\n        step.y = step.y + step.relative.y;\n        step.z = step.z + step.relative.z;\n\n        return step;\n    };\n\n    var rel = function( root ) {\n        var steps = root.querySelectorAll( \".step\" );\n        var prev;\n        startingState[ root.id ] = [];\n        for ( var i = 0; i < steps.length; i++ ) {\n            var el = steps[ i ];\n            startingState[ root.id ].push( {\n                el: el,\n                x: el.getAttribute( \"data-x\" ),\n                y: el.getAttribute( \"data-y\" ),\n                z: el.getAttribute( \"data-z\" ),\n                relX: el.getAttribute( \"data-rel-x\" ),\n                relY: el.getAttribute( \"data-rel-y\" ),\n                relZ: el.getAttribute( \"data-rel-z\" )\n            } );\n            var step = computeRelativePositions( el, prev );\n\n            // Apply relative position (if non-zero)\n            el.setAttribute( \"data-x\", step.x );\n            el.setAttribute( \"data-y\", step.y );\n            el.setAttribute( \"data-z\", step.z );\n            prev = step;\n        }\n    };\n\n    // Register the plugin to be called in pre-init phase\n    window.impress.addPreInitPlugin( rel );\n\n    // Register teardown callback to reset the data.x, .y, .z values.\n    document.addEventListener( \"impress:init\", function( event ) {\n        var root = event.target;\n        event.detail.api.lib.gc.pushCallback( function() {\n            var steps = startingState[ root.id ];\n            var step;\n            while ( step = steps.pop() ) {\n\n                // Reset x/y/z in cases where this plugin has changed it.\n                if ( step.relX !== null ) {\n                    if ( step.x === null ) {\n                        step.el.removeAttribute( \"data-x\" );\n                    } else {\n                        step.el.setAttribute( \"data-x\", step.x );\n                    }\n                }\n                if ( step.relY !== null ) {\n                    if ( step.y === null ) {\n                        step.el.removeAttribute( \"data-y\" );\n                    } else {\n                        step.el.setAttribute( \"data-y\", step.y );\n                    }\n                }\n                if ( step.relZ !== null ) {\n                    if ( step.z === null ) {\n                        step.el.removeAttribute( \"data-z\" );\n                    } else {\n                        step.el.setAttribute( \"data-z\", step.z );\n                    }\n                }\n            }\n            delete startingState[ root.id ];\n        } );\n    }, false );\n} )( document, window );\n\n\n/**\n * Resize plugin\n *\n * Rescale the presentation after a window resize.\n *\n * Copyright 2011-2012 Bartek Szopka (@bartaz)\n * Released under the MIT license.\n * ------------------------------------------------\n *  author:  Bartek Szopka\n *  version: 0.5.3\n *  url:     http://bartaz.github.com/impress.js/\n *  source:  http://github.com/bartaz/impress.js/\n *\n */\n\n/* global document, window */\n\n( function( document, window ) {\n    \"use strict\";\n\n    // Wait for impress.js to be initialized\n    document.addEventListener( \"impress:init\", function( event ) {\n        var api = event.detail.api;\n\n        // Rescale presentation when window is resized\n        api.lib.gc.addEventListener( window, \"resize\", api.lib.util.throttle( function() {\n\n            // Force going to active step again, to trigger rescaling\n            api.goto( document.querySelector( \".step.active\" ), 500 );\n        }, 250 ), false );\n    }, false );\n\n} )( document, window );\n\n\n/**\n * Skip Plugin\n *\n * Example:\n *\n *    <!-- This slide is disabled in presentations, when moving with next()\n *         and prev() commands, but you can still move directly to it, for\n *         example with a url (anything using goto()). -->\n *         <div class=\"step skip\">\n *\n * Copyright 2016 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n\n/* global document, window */\n\n( function( document, window ) {\n    \"use strict\";\n    var util;\n\n    document.addEventListener( \"impress:init\", function( event ) {\n        util = event.detail.api.lib.util;\n    }, false );\n\n    var getNextStep = function( el ) {\n        var steps = document.querySelectorAll( \".step\" );\n        for ( var i = 0; i < steps.length; i++ ) {\n            if ( steps[ i ] === el ) {\n                if ( i + 1 < steps.length ) {\n                    return steps[ i + 1 ];\n                } else {\n                    return steps[ 0 ];\n                }\n            }\n        }\n    };\n    var getPrevStep = function( el ) {\n        var steps = document.querySelectorAll( \".step\" );\n        for ( var i = steps.length - 1; i >= 0; i-- ) {\n            if ( steps[ i ] === el ) {\n                if ( i - 1 >= 0 ) {\n                    return steps[ i - 1 ];\n                } else {\n                    return steps[ steps.length - 1 ];\n                }\n            }\n        }\n    };\n\n    var skip = function( event ) {\n        if ( ( !event ) || ( !event.target ) ) {\n            return;\n        }\n\n        if ( event.detail.next.classList.contains( \"skip\" ) ) {\n            if ( event.detail.reason === \"next\" ) {\n\n                // Go to the next next step instead\n                event.detail.next = getNextStep( event.detail.next );\n\n                // Recursively call this plugin again, until there's a step not to skip\n                skip( event );\n            } else if ( event.detail.reason === \"prev\" ) {\n\n                // Go to the previous previous step instead\n                event.detail.next = getPrevStep( event.detail.next );\n                skip( event );\n            }\n\n            // If the new next element has its own transitionDuration, we're responsible for setting\n            // that on the event as well\n            event.detail.transitionDuration = util.toNumber(\n                event.detail.next.dataset.transitionDuration, event.detail.transitionDuration\n            );\n        }\n    };\n\n    // Register the plugin to be called in pre-stepleave phase\n    // The weight makes this plugin run early. This is a good thing, because this plugin calls\n    // itself recursively.\n    window.impress.addPreStepLeavePlugin( skip, 1 );\n\n} )( document, window );\n\n\n/**\n * Stop Plugin\n *\n * Example:\n *\n *        <!-- Stop at this slide.\n *             (For example, when used on the last slide, this prevents the\n *             presentation from wrapping back to the beginning.) -->\n *        <div class=\"step stop\">\n *\n * Copyright 2016 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n/* global document, window */\n( function( document, window ) {\n    \"use strict\";\n\n    var stop = function( event ) {\n        if ( ( !event ) || ( !event.target ) ) {\n            return;\n        }\n\n        if ( event.target.classList.contains( \"stop\" ) ) {\n            if ( event.detail.reason === \"next\" ) {\n                return false;\n            }\n        }\n    };\n\n    // Register the plugin to be called in pre-stepleave phase\n    // The weight makes this plugin run fairly early.\n    window.impress.addPreStepLeavePlugin( stop, 2 );\n\n} )( document, window );\n\n\n/**\n * Substep Plugin\n *\n * Copyright 2017 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n\n/* global document, window */\n\n( function( document, window ) {\n    \"use strict\";\n\n    // Copied from core impress.js. Good candidate for moving to src/lib/util.js.\n    var triggerEvent = function( el, eventName, detail ) {\n        var event = document.createEvent( \"CustomEvent\" );\n        event.initCustomEvent( eventName, true, true, detail );\n        el.dispatchEvent( event );\n    };\n\n    var activeStep = null;\n    document.addEventListener( \"impress:stepenter\", function( event ) {\n        activeStep = event.target;\n    }, false );\n\n    var substep = function( event ) {\n        if ( ( !event ) || ( !event.target ) ) {\n            return;\n        }\n\n        var step = event.target;\n        var el; // Needed by jshint\n        if ( event.detail.reason === \"next\" ) {\n            el = showSubstepIfAny( step );\n            if ( el ) {\n\n                // Send a message to others, that we aborted a stepleave event.\n                triggerEvent( step, \"impress:substep:stepleaveaborted\",\n                              { reason: \"next\", substep: el } );\n\n                // Autoplay uses this for reloading itself\n                triggerEvent( step, \"impress:substep:enter\",\n                              { reason: \"next\", substep: el } );\n\n                // Returning false aborts the stepleave event\n                return false;\n            }\n        }\n        if ( event.detail.reason === \"prev\" ) {\n            el = hideSubstepIfAny( step );\n            if ( el ) {\n                triggerEvent( step, \"impress:substep:stepleaveaborted\",\n                              { reason: \"prev\", substep: el } );\n\n                triggerEvent( step, \"impress:substep:leave\",\n                              { reason: \"prev\", substep: el } );\n\n                return false;\n            }\n        }\n    };\n\n    var showSubstepIfAny = function( step ) {\n        var substeps = step.querySelectorAll( \".substep\" );\n        if ( substeps.length > 0 ) {\n            var sorted = sortSubsteps( substeps );\n            var visible = step.querySelectorAll( \".substep-visible\" );\n            return showSubstep( sorted, visible );\n        }\n    };\n\n    var sortSubsteps = function( substepNodeList ) {\n        var substeps = Array.from( substepNodeList );\n        var sorted = substeps\n            .filter( el => el.dataset.substepOrder )\n            .sort( ( a, b ) => {\n                var orderA = a.dataset.substepOrder;\n                var orderB = b.dataset.substepOrder;\n                return parseInt( orderA ) - parseInt( orderB );\n            } )\n            .concat( substeps.filter( el => {\n                return el.dataset.substepOrder === undefined;\n            } ) );\n        return sorted;\n    };\n\n    var showSubstep = function( substeps, visible ) {\n        if ( visible.length < substeps.length ) {\n            for ( var i = 0; i < substeps.length; i++ ) {\n                substeps[ i ].classList.remove( \"substep-active\" );\n            }\n            var el = substeps[ visible.length ];\n            el.classList.add( \"substep-visible\" );\n            el.classList.add( \"substep-active\" );\n            return el;\n        }\n    };\n\n    var hideSubstepIfAny = function( step ) {\n        var substeps = step.querySelectorAll( \".substep\" );\n        var visible = step.querySelectorAll( \".substep-visible\" );\n        var sorted = sortSubsteps( visible );\n        if ( substeps.length > 0 ) {\n            return hideSubstep( sorted );\n        }\n    };\n\n    var hideSubstep = function( visible ) {\n        if ( visible.length > 0 ) {\n            var current = -1;\n            for ( var i = 0; i < visible.length; i++ ) {\n                if ( visible[ i ].classList.contains( \"substep-active\" ) ) {\n                    current = i;\n                }\n                visible[ i ].classList.remove( \"substep-active\" );\n            }\n            if ( current > 0 ) {\n                visible[ current - 1 ].classList.add( \"substep-active\" );\n            }\n            var el = visible[ visible.length - 1 ];\n            el.classList.remove( \"substep-visible\" );\n            return el;\n        }\n    };\n\n    // Register the plugin to be called in pre-stepleave phase.\n    // The weight makes this plugin run before other preStepLeave plugins.\n    window.impress.addPreStepLeavePlugin( substep, 1 );\n\n    // When entering a step, in particular when re-entering, make sure that all substeps are hidden\n    // at first\n    document.addEventListener( \"impress:stepenter\", function( event ) {\n        var step = event.target;\n        var visible = step.querySelectorAll( \".substep-visible\" );\n        for ( var i = 0; i < visible.length; i++ ) {\n            visible[ i ].classList.remove( \"substep-visible\" );\n        }\n    }, false );\n\n    // API for others to reveal/hide next substep ////////////////////////////////////////////////\n    document.addEventListener( \"impress:substep:show\", function() {\n        showSubstepIfAny( activeStep );\n    }, false );\n\n    document.addEventListener( \"impress:substep:hide\", function() {\n        hideSubstepIfAny( activeStep );\n    }, false );\n\n} )( document, window );\n\n/**\n * Support for swipe and tap on touch devices\n *\n * This plugin implements navigation for plugin devices, via swiping left/right,\n * or tapping on the left/right edges of the screen.\n *\n *\n *\n * Copyright 2015: Andrew Dunai (@and3rson)\n * Modified to a plugin, 2016: Henrik Ingo (@henrikingo)\n *\n * MIT License\n */\n/* global document, window */\n( function( document, window ) {\n    \"use strict\";\n\n    // Touch handler to detect swiping left and right based on window size.\n    // If the difference in X change is bigger than 1/20 of the screen width,\n    // we simply call an appropriate API function to complete the transition.\n    var startX = 0;\n    var lastX = 0;\n    var lastDX = 0;\n    var threshold = window.innerWidth / 20;\n\n    document.addEventListener( \"touchstart\", function( event ) {\n        lastX = startX = event.touches[ 0 ].clientX;\n    } );\n\n    document.addEventListener( \"touchmove\", function( event ) {\n         var x = event.touches[ 0 ].clientX;\n         var diff = x - startX;\n\n         // To be used in touchend\n         lastDX = lastX - x;\n         lastX = x;\n\n         window.impress().swipe( diff / window.innerWidth );\n     } );\n\n     document.addEventListener( \"touchend\", function() {\n         var totalDiff = lastX - startX;\n         if ( Math.abs( totalDiff ) > window.innerWidth / 5 && ( totalDiff * lastDX ) <= 0 ) {\n             if ( totalDiff > window.innerWidth / 5 && lastDX <= 0 ) {\n                 window.impress().prev();\n             } else if ( totalDiff < -window.innerWidth / 5 && lastDX >= 0 ) {\n                 window.impress().next();\n             }\n         } else if ( Math.abs( lastDX ) > threshold ) {\n             if ( lastDX < -threshold ) {\n                 window.impress().prev();\n             } else if ( lastDX > threshold ) {\n                 window.impress().next();\n             }\n         } else {\n\n             // No movement - move (back) to the current slide\n             window.impress().goto( document.querySelector( \"#impress .step.active\" ) );\n         }\n     } );\n\n     document.addEventListener( \"touchcancel\", function() {\n\n             // Move (back) to the current slide\n             window.impress().goto( document.querySelector( \"#impress .step.active\" ) );\n     } );\n\n} )( document, window );\n\n/**\n * Toolbar plugin\n *\n * This plugin provides a generic graphical toolbar. Other plugins that\n * want to expose a button or other widget, can add those to this toolbar.\n *\n * Using a single consolidated toolbar for all GUI widgets makes it easier\n * to position and style the toolbar rather than having to do that for lots\n * of different divs.\n *\n *\n * *** For presentation authors: *****************************************\n *\n * To add/activate the toolbar in your presentation, add this div:\n *\n *     <div id=\"impress-toolbar\"></div>\n *\n * Styling the toolbar is left to presentation author. Here's an example CSS:\n *\n *    .impress-enabled div#impress-toolbar {\n *        position: fixed;\n *        right: 1px;\n *        bottom: 1px;\n *        opacity: 0.6;\n *    }\n *    .impress-enabled div#impress-toolbar > span {\n *        margin-right: 10px;\n *    }\n *\n * The [mouse-timeout](../mouse-timeout/README.md) plugin can be leveraged to hide\n * the toolbar from sight, and only make it visible when mouse is moved.\n *\n *    body.impress-mouse-timeout div#impress-toolbar {\n *        display: none;\n *    }\n *\n *\n * *** For plugin authors **********************************************\n *\n * To add a button to the toolbar, trigger the `impress:toolbar:appendChild`\n * or `impress:toolbar:insertBefore` events as appropriate. The detail object\n * should contain following parameters:\n *\n *    { group : 1,                       // integer. Widgets with the same group are grouped inside\n *                                       // the same <span> element.\n *      html : \"<button>Click</button>\", // The html to add.\n *      callback : \"mycallback\",         // Toolbar plugin will trigger event\n *                                       // `impress:toolbar:added:mycallback` when done.\n *      before: element }                // The reference element for an insertBefore() call.\n *\n * You should also listen to the `impress:toolbar:added:mycallback` event. At\n * this point you can find the new widget in the DOM, and for example add an\n * event listener to it.\n *\n * You are free to use any integer for the group. It's ok to leave gaps. It's\n * ok to co-locate with widgets for another plugin, if you think they belong\n * together.\n *\n * See navigation-ui for an example.\n *\n * Copyright 2016 Henrik Ingo (@henrikingo)\n * Released under the MIT license.\n */\n\n/* global document */\n\n( function( document ) {\n    \"use strict\";\n    var toolbar = document.getElementById( \"impress-toolbar\" );\n    var groups = [];\n\n    /**\n     * Get the span element that is a child of toolbar, identified by index.\n     *\n     * If span element doesn't exist yet, it is created.\n     *\n     * Note: Because of Run-to-completion, this is not a race condition.\n     * https://developer.mozilla.org/en/docs/Web/JavaScript/EventLoop#Run-to-completion\n     *\n     * :param: index   Method will return the element <span id=\"impress-toolbar-group-{index}\">\n     */\n    var getGroupElement = function( index ) {\n        var id = \"impress-toolbar-group-\" + index;\n        if ( !groups[ index ] ) {\n            groups[ index ] = document.createElement( \"span\" );\n            groups[ index ].id = id;\n            var nextIndex = getNextGroupIndex( index );\n            if ( nextIndex === undefined ) {\n                toolbar.appendChild( groups[ index ] );\n            } else {\n                toolbar.insertBefore( groups[ index ], groups[ nextIndex ] );\n            }\n        }\n        return groups[ index ];\n    };\n\n    /**\n     * Get the span element from groups[] that is immediately after given index.\n     *\n     * This can be used to find the reference node for an insertBefore() call.\n     * If no element exists at a larger index, returns undefined. (In this case,\n     * you'd use appendChild() instead.)\n     *\n     * Note that index needn't itself exist in groups[].\n     */\n    var getNextGroupIndex = function( index ) {\n        var i = index + 1;\n        while ( !groups[ i ] && i < groups.length ) {\n            i++;\n        }\n        if ( i < groups.length ) {\n            return i;\n        }\n    };\n\n    // API\n    // Other plugins can add and remove buttons by sending them as events.\n    // In return, toolbar plugin will trigger events when button was added.\n    if ( toolbar ) {\n        /**\n         * Append a widget inside toolbar span element identified by given group index.\n         *\n         * :param: e.detail.group    integer specifying the span element where widget will be placed\n         * :param: e.detail.element  a dom element to add to the toolbar\n         */\n        toolbar.addEventListener( \"impress:toolbar:appendChild\", function( e ) {\n            var group = getGroupElement( e.detail.group );\n            group.appendChild( e.detail.element );\n        } );\n\n        /**\n         * Add a widget to toolbar using insertBefore() DOM method.\n         *\n         * :param: e.detail.before   the reference dom element, before which new element is added\n         * :param: e.detail.element  a dom element to add to the toolbar\n         */\n        toolbar.addEventListener( \"impress:toolbar:insertBefore\", function( e ) {\n            toolbar.insertBefore( e.detail.element, e.detail.before );\n        } );\n\n        /**\n         * Remove the widget in e.detail.remove.\n         */\n        toolbar.addEventListener( \"impress:toolbar:removeWidget\", function( e ) {\n            toolbar.removeChild( e.detail.remove );\n        } );\n\n        document.addEventListener( \"impress:init\", function( event ) {\n            var api = event.detail.api;\n            api.lib.gc.pushCallback( function() {\n                toolbar.innerHTML = \"\";\n                groups = [];\n            } );\n        } );\n    } // If toolbar\n\n} )( document );\n"]}